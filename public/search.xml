<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>cocos游戏引擎Ts的基本操作</title>
      <link href="/posts/30063.html"/>
      <url>/posts/30063.html</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>这篇文档的所有内容全部基于 <code>cocos 2.4.0</code> 版本<br>cocos版本更新差异很大…笔者刚接触用的3.7 后来改用2.4开发2D游戏   太TM操蛋了<br>本文介绍了 TypeScript 利用 <code>cocos 2.4.0</code> API 获取组件的一些基本操作<br>点这个网站进入 <a href="https://docs.cocos.com/creator/2.4/api/zh/">cocos 2.4.0 官方文档</a></p></blockquote><h3 id="代码正文"><a href="#代码正文" class="headerlink" title="代码正文"></a>代码正文</h3><h4 id="API获取当前节点"><a href="#API获取当前节点" class="headerlink" title="API获取当前节点"></a>API获取当前节点</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.当前节点   this.node: cc.Node</span><br><span class="line">2.父节点     this.node.parent</span><br><span class="line">3.子节点     this.node.children: cc.Node[]</span><br><span class="line">4.全局查找   target = cc.find(&quot;Canvas/佩奇/名字&quot;)</span><br><span class="line">5.查找子节点  target = cc.find(&quot;xx/yy&quot;,someNode)    </span><br></pre></td></tr></table></figure><h4 id="API获取组件-如果已经拿到节点-那么节点的组件也可以拿出来"><a href="#API获取组件-如果已经拿到节点-那么节点的组件也可以拿出来" class="headerlink" title="API获取组件(如果已经拿到节点 那么节点的组件也可以拿出来)"></a>API获取组件(如果已经拿到节点 那么节点的组件也可以拿出来)</h4><ul><li><p>获取组件</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> label = node.<span class="title function_">getComponent</span>(cc.<span class="property">Label</span>);</span><br></pre></td></tr></table></figure></li><li><p>获取自定义类型的组件(脚本组件也是可以访问的)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> script = node.<span class="title function_">getComponent</span>(<span class="string">&quot;YourScript&quot;</span>);</span><br><span class="line">script.<span class="title function_">run</span>(); </span><br></pre></td></tr></table></figure></li></ul><h4 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h4><ul><li><p>音频属性的定义</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//开门声</span></span><br><span class="line"><span class="meta">@property</span>(cc.<span class="property">AudioClip</span>)</span><br><span class="line"><span class="attr">audio</span>: cc.<span class="property">AudioClip</span> = <span class="literal">null</span>;  <span class="comment">//cc.AudioClip就是cocos中的一个音频的类型组件</span></span><br></pre></td></tr></table></figure></li><li><p>音频的播放</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">audio</span> != <span class="literal">null</span>)&#123;</span><br><span class="line">    cc.<span class="property">audioEngine</span>.<span class="title function_">play</span>(<span class="variable language_">this</span>.<span class="property">audio</span>,<span class="literal">false</span>,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="坐标系"><a href="#坐标系" class="headerlink" title="坐标系"></a>坐标系</h4><ul><li>坐标用<code>Vec2</code>或者<code>vec3</code>标识(Vector,向量) <strong>俩种办法创建坐标对象</strong></li><li>Vec2：二维坐标(x,y)<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pos = <span class="keyword">new</span> cc.<span class="title class_">Vec2</span>(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">pos = cc.<span class="title function_">v2</span>(<span class="number">100</span>,<span class="number">100</span>);</span><br></pre></td></tr></table></figure></li><li>Vec3: 三维坐标(x,y,z)<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pos = <span class="keyword">new</span> cc.<span class="title class_">Vec3</span>(<span class="number">100</span>,<span class="number">100</span>,<span class="number">0</span>);</span><br><span class="line">pos = cc.<span class="title function_">v3</span>(<span class="number">100</span>,<span class="number">100</span>,<span class="number">0</span>);</span><br></pre></td></tr></table></figure></li><li>取出坐标<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">pos</span>: cc.<span class="property">Vec2</span> = node.<span class="title function_">getPosition</span>();<span class="comment">//不过返回的v3向量  但方法定义的确实v2向量 有点小bug这里不影响</span></span><br></pre></td></tr></table></figure></li><li>设置坐标<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node.<span class="title function_">setPosition</span>(cc.<span class="title function_">v2</span>(<span class="number">150</span>,-<span class="number">200</span>));</span><br></pre></td></tr></table></figure></li><li>设置节点的缩放<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node.<span class="title function_">setScale</span>(cc.<span class="title function_">v3</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>)); <span class="comment">//目标是2D游戏 z轴方向设置为0即可  以1为基准进行缩小或放大</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="缓动系统-平滑移动"><a href="#缓动系统-平滑移动" class="headerlink" title="缓动系统(平滑移动)"></a>缓动系统(平滑移动)</h4><ul><li>to方法 最终到达位置<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cc.<span class="title function_">tween</span>(node)</span><br><span class="line">  .<span class="title function_">to</span>(<span class="number">1</span>,&#123;<span class="attr">position</span>: cc.<span class="title function_">v3</span>(<span class="number">150</span>,-<span class="number">200</span>,<span class="number">0</span>)&#125;)</span><br><span class="line">  .<span class="title function_">start</span>(); <span class="comment">//1 是动画时长</span></span><br></pre></td></tr></table></figure></li><li>by方法 不断变换位置<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cc.<span class="title function_">tween</span>(node)</span><br><span class="line">  .<span class="title function_">by</span>(<span class="number">1</span>,&#123;<span class="attr">position</span>: cc.<span class="title function_">v3</span>(<span class="number">150</span>,-<span class="number">200</span>,<span class="number">0</span>)&#125;)</span><br><span class="line">  .<span class="title function_">by</span>(<span class="number">1</span>,&#123;<span class="attr">position</span>: cc.<span class="title function_">v3</span>(<span class="number">150</span>,<span class="number">200</span>,<span class="number">0</span>)&#125;)</span><br><span class="line">  .<span class="title function_">by</span>(<span class="number">1</span>,&#123;<span class="attr">position</span>: cc.<span class="title function_">v3</span>(<span class="number">150</span>,-<span class="number">200</span>,<span class="number">0</span>)&#125;)</span><br><span class="line">  .<span class="title function_">by</span>(<span class="number">1</span>,&#123;<span class="attr">position</span>: cc.<span class="title function_">v3</span>(<span class="number">150</span>,<span class="number">200</span>,<span class="number">0</span>)&#125;)</span><br><span class="line">  .<span class="title function_">start</span>(); </span><br></pre></td></tr></table></figure></li><li>easing方法 变速<blockquote><p>变化参数</p><ul><li>quadIn 平方曲线缓入</li><li>quadOut 平方曲线缓出</li><li>quadInOut 平方曲线缓入缓出</li><li>cubicIn 立方曲线缓入</li><li>cubicOut 立方曲线缓出</li><li>cubicInOut 立方曲线缓入缓出<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//duration 动作时间</span></span><br><span class="line"><span class="comment">//props 目标状态</span></span><br><span class="line"><span class="comment">//easing 速度变化</span></span><br><span class="line">cc.<span class="title function_">tween</span>(node)</span><br><span class="line">  .<span class="title function_">to</span>(duration,props,easing);</span><br><span class="line"></span><br><span class="line"><span class="comment">//例如 quadOut 渐渐变慢</span></span><br><span class="line">cc.<span class="title function_">tween</span>(node)</span><br><span class="line">  .<span class="title function_">by</span>(<span class="number">1</span>,&#123;<span class="attr">position</span>: cc.<span class="title function_">v3</span>(<span class="number">0</span>,<span class="number">300</span>,<span class="number">0</span>)&#125;,&#123;<span class="attr">easing</span>: <span class="string">&#x27;quadOut&#x27;</span>&#125;)</span><br><span class="line">  .<span class="title function_">start</span>();</span><br></pre></td></tr></table></figure></li></ul></blockquote></li></ul><h4 id="动画-比缓动高级"><a href="#动画-比缓动高级" class="headerlink" title="动画(比缓动高级)"></a>动画(比缓动高级)</h4><ul><li>这个update方法 每秒钟调用60次 60次/1s 而60次说的就是帧率 60帧</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">update</span>(<span class="params">dt</span>)&#123;</span><br><span class="line">    cc.<span class="title function_">log</span>(<span class="string">&quot;update() is called,time = &quot;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cc.<span class="title function_">schedule</span>(<span class="variable language_">this</span>.<span class="property">onTimer</span>,<span class="number">0.3</span>); <span class="comment">//用onTimer方法做回调</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">onTimer</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">count</span> &gt;= <span class="number">3</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">unchedule</span>(<span class="variable language_">this</span>.<span class="property">onTimer</span>); <span class="comment">//满足某个条件后停止计时器</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="资源加载"><a href="#资源加载" class="headerlink" title="资源加载"></a>资源加载</h4><ul><li>静态加载<blockquote><p>由<strong>游戏引擎</strong>直接加载的方式就是静态加载</p></blockquote></li><li>动态加载<blockquote><p>在代码里加载就是动态加载<br>以下方法原型为: cc.resources.load( path, type, onComplete) onComplete是回调方法<br>待加载的资源必须放在 resources目录下   <code>img/天使站立</code>  指的是  <code>/assets/resources/img/天使站立</code><br><code>不要带后缀名</code> 值得一提的是 这里的path路径 可以给一个数组实现资源多加载 如果你这么做 回调方法中assets将会是一个数组</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> self = <span class="variable language_">this</span>; <span class="comment">//先把this 拿出来 因为回调方法找不到this这个对象 闭包</span></span><br><span class="line">cc.<span class="property">resources</span>.<span class="title function_">load</span>(<span class="string">&quot;img/天使站立&quot;</span>,cc.<span class="property">SpriteFrame</span>,<span class="keyword">function</span>(<span class="params">err,assets</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">null</span> == err)&#123;</span><br><span class="line">     self.<span class="property">node</span>.<span class="title function_">getComponent</span>(cc.<span class="property">Sprite</span>).<span class="property">spriteFrame</span> = &lt;cc.<span class="property">SpriteFrame</span>&gt; assets;  <span class="comment">//这里err 是错误原因,assets 是加载进来的资源对象 这里的&lt;cc.SpriteFrame&gt; 指的是类型转换</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        cc.<span class="title function_">log</span>(<span class="string">&#x27;图片加载失败,错误原因--&gt; &#x27;</span> + err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//另外一种加载方式  直接挂载整个目录</span></span><br><span class="line">cc.<span class="property">resources</span>.<span class="title function_">loadDir</span>(<span class="params"><span class="string">&quot;img&quot;</span>,cc.SpriteFrame,<span class="keyword">function</span>(err,assets)</span>)&#123;</span><br><span class="line">     <span class="keyword">if</span>(<span class="literal">null</span> == err)&#123;</span><br><span class="line">     self.<span class="property">node</span>.<span class="title function_">getComponent</span>(cc.<span class="property">Sprite</span>).<span class="property">spriteFrame</span> = &lt;cc.<span class="property">SpriteFrame</span>&gt; assets[<span class="number">0</span>];  <span class="comment">//这里回调进来的是一个数组  </span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        cc.<span class="title function_">log</span>(<span class="string">&#x27;图片加载失败,错误原因--&gt; &#x27;</span> + err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote></li></ul><h4 id="鼠标事件及触摸事件"><a href="#鼠标事件及触摸事件" class="headerlink" title="鼠标事件及触摸事件"></a>鼠标事件及触摸事件</h4><details class="folding-tag" cyan><summary> 鼠标事件 </summary>              <div class='content'>              <blockquote><ul><li>mousedown<blockquote><p>cc.Node.EventType.MOUSE_DOWN<br>当鼠标在目标节点区域时按下触发</p></blockquote></li><li>mouseenter<blockquote><p>cc.Node.EventType.MOUSE_ENTER<br>当鼠标移入目标节点区域时候触发,不论是否按下</p></blockquote></li><li>mousemove<blockquote><p>cc.Node.EventType.MOUSE_MOVE<br>当鼠标在目标节点区域中移动时触发,不论是否按下</p></blockquote></li><li>mouseleave<blockquote><p>cc.Node.EventType.MOUSE_LEAVE<br>当鼠标移出目标节点区域时触发,不论是否按下</p></blockquote></li><li>mouseup<blockquote><p>cc.Node.EventType.MOUSE_UP<br>当鼠标从按下状态松开时触发</p></blockquote></li><li>mousewheel<blockquote><p>cc.Node.EventType.MOUSE_WHEEL<br>当鼠标滚轮滚动时触发</p></blockquote></li></ul></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 鼠标事件常用API (cc.EventEventMouse) </summary>              <div class='content'>              <blockquote><ul><li>getScrolly<blockquote><p>获取滚轮滚动的Y轴距离 只有在滚动时才会生效</p></blockquote></li><li>getLocation<blockquote><p>获取鼠标位置对象,对象包含x,y属性</p></blockquote></li><li>getLocationX<blockquote><p>获取鼠标的X轴位置</p></blockquote></li><li>getLocationY<blockquote><p>获取鼠标的Y轴位置</p></blockquote></li><li>getPreviousLocation<blockquote><p>获取鼠标事件上次触发时的位置对象,对象包含x,y属性</p></blockquote></li><li>getDelta <blockquote><p>获取鼠标距离上一次事件移动的距离对象,对象包含x,y属性 </p></blockquote></li></ul></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 触摸事件对象 </summary>              <div class='content'>              <blockquote><ul><li>touchstart<blockquote><p>cc.Node.EventType.TOUCH_START </p></blockquote></li><li>touchmove   <blockquote><p>cc.Node.EventType.TOUCH_MOVE</p></blockquote></li><li>touchend<blockquote><p>cc.Node.EventType.TOUCH_END</p></blockquote></li><li>touchcancel<blockquote><p>cc.Node.EventType.TOUCH_CANCEL</p></blockquote></li></ul></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 触摸事件常用API </summary>              <div class='content'>              <blockquote><p><code>注意:事件中的坐标位置(x,y)是世界坐标(全局坐标)</code></p><ul><li>touch <blockquote><p>与当前事件关联的触点对象  类型是cc.Touch</p></blockquote></li><li>getId<blockquote><p>获取触点的ID,用于多点触摸的逻辑判断  类型是Number</p></blockquote></li><li>getLocation (常用)<blockquote><p>获取触点位置对象,对象包含x,y属性  类型是Object</p></blockquote></li><li>getLocationX<blockquote><p>获取触点的X轴位置  类型是Number</p></blockquote></li><li>getLocationY<blockquote><p>获取触点的y轴位置  类型是Number</p></blockquote></li><li>getPreviousLocation<blockquote><p>获取触点上一次触发事件时的位置对象,对象包含x,y属性  类型是Object</p></blockquote></li><li>getStartLocation<blockquote><p>获取触点初始时的位置对象,对象包含x,y属性  类型是Object</p></blockquote></li><li>getDelta<blockquote><p>获取触点距离上一次事件移动的距离对象,对象包含x,y属性  类型是Object</p></blockquote></li></ul></blockquote>              </div>            </details><h4 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h4><blockquote><p>事件冒泡 就是当子节点发生例如<code>鼠标点击</code>事件后会传递到父节点的 <code>鼠标点击</code> 事件,这个就是事件冒泡<br><code>注意</code> 即使子节点在父节点的区域外 事件依旧会冒泡。<br>当然我们可以阻止冒泡发生<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.<span class="title function_">stopPropagation</span>();<span class="comment">//在方法结尾写这行代码  标志此事件到此为止  不再上浮</span></span><br></pre></td></tr></table></figure></p></blockquote><h4 id="遮罩效果"><a href="#遮罩效果" class="headerlink" title="遮罩效果"></a>遮罩效果</h4><blockquote><p>利用冒泡阻止  在子节点中再加入子节点实现遮罩层<br>利用代码接收事件 并设置遮罩层不激活<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onTouch</span>(<span class="params">e: cc.Event.EventTouch</span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">active</span> = <span class="literal">false</span>; <span class="comment">//这个节点设置为不激活状态 即隐藏遮罩层</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在手机端屏幕不一致的情况下 遮罩层可能会出现遮挡不全的问题<br>可以在遮罩节点添加一个组件 ui组件 -&gt; Widget组件   上下左右边距全部设置为0即可<br>在cocos编辑器中 指定遮罩节点的透明度Opacity属性 0 - 255 自行调节透明度<br><code>注意 遮罩层要在Canvas节点下一级  也就是Canvas必须是遮罩层的父节点 而不是爷节点</code> 这样设置边距才会自适应Canvas</p></blockquote><h4 id="动态节点"><a href="#动态节点" class="headerlink" title="动态节点"></a>动态节点</h4><blockquote><p>API代码动态加载节点<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">bullet</span>: cc.<span class="property">Node</span> = <span class="keyword">new</span> cc.<span class="title class_">Node</span>(); <span class="comment">//创建节点</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">sprite</span>: cc.<span class="property">Sprite</span> = bullet.<span class="title function_">addComponent</span>(cc.<span class="property">Sprite</span>); <span class="comment">//创建组件</span></span><br><span class="line">sprite.<span class="property">spriteFrame</span> = <span class="variable language_">this</span>.<span class="property">bulletIcon</span>; <span class="comment">//组件属性定义</span></span><br><span class="line">bullet.<span class="property">parent</span> = <span class="variable language_">this</span>.<span class="property">node</span>; <span class="comment">// 挂载到父节点</span></span><br></pre></td></tr></table></figure><br>让节点销毁<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">node</span>.<span class="title function_">destroy</span>();</span><br></pre></td></tr></table></figure><br>挂载脚本组件<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">BulletScript</span> <span class="keyword">from</span> <span class="string">&quot;./BulletScript&quot;</span>; <span class="comment">//导入脚本</span></span><br><span class="line"><span class="comment">//---------------start----------------------</span></span><br><span class="line">bullet.<span class="title function_">addComponent</span>( <span class="title class_">BulletScript</span> );</span><br></pre></td></tr></table></figure><br>编写BulletScript脚本 使节点运动起来<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onLoad</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">schedule</span>(<span class="variable language_">this</span>.<span class="property">onTimer</span>,<span class="number">0.016</span>); <span class="comment">//开一个定时器</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">start</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">onTimer</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">y</span> &gt; <span class="number">300</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">unschedule</span>(<span class="variable language_">this</span>.<span class="property">onTimer</span>); <span class="comment">//停止定时器</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">node</span>.<span class="title function_">destroy</span>();<span class="comment">//销毁节点</span></span><br><span class="line">    <span class="keyword">return</span>; <span class="comment">//结束方法</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">y</span> += <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="爆炸效果"><a href="#爆炸效果" class="headerlink" title="爆炸效果"></a>爆炸效果</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beginExplode</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">sp</span>: cc.<span class="property">Sprite</span> = <span class="variable language_">this</span>.<span class="property">node</span>.<span class="title function_">getComponent</span>(cc.<span class="property">Sprite</span>);</span><br><span class="line">  sp.<span class="property">spriteFrame</span> = <span class="variable language_">this</span>.<span class="property">explodeEffect</span>;<span class="comment">//显示爆炸图片  这里explodeEffect 在脚本运行时直接动态加载</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">scale</span> = <span class="number">0.1</span>; <span class="comment">//缩放设置为0.1</span></span><br><span class="line">  <span class="keyword">let</span> that = <span class="variable language_">this</span>; <span class="comment">//闭包</span></span><br><span class="line">  cc.<span class="title function_">tween</span>(<span class="variable language_">this</span>.<span class="property">node</span>)</span><br><span class="line">    .<span class="title function_">to</span>(<span class="number">0.5</span>,&#123;<span class="attr">scale</span>: <span class="number">0.5</span>,<span class="attr">opacity</span>:<span class="number">0</span>&#125;)</span><br><span class="line">    .<span class="title function_">to</span>(<span class="number">0.3</span>,&#123;<span class="attr">opacity</span>: <span class="number">0</span>&#125;)</span><br><span class="line">    .<span class="title function_">call</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123; that.<span class="title function_">afterExplode</span>(); &#125;)</span><br><span class="line">    .<span class="title function_">start</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="销毁节点"><a href="#销毁节点" class="headerlink" title="销毁节点"></a>销毁节点</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">afterExplode</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">node</span>.<span class="title function_">destroy</span>();<span class="comment">//爆炸后销毁节点</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁后回调方法 默认的</span></span><br><span class="line"><span class="title function_">onDestroy</span>(<span class="params"></span>)&#123;</span><br><span class="line">  cc.<span class="title function_">log</span>(<span class="string">&#x27;$&#123;this.node.name&#125;被销毁&#x27;</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="碰撞检测"><a href="#碰撞检测" class="headerlink" title="碰撞检测"></a>碰撞检测</h4><blockquote><p><code>cocos</code>编辑器中 直接添加碰撞组件 box collider 矩形碰撞<br>回调函数<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onCollisionEnter</span>(other,self)  <span class="comment">//碰撞发生时触发</span></span><br><span class="line"><span class="title function_">onCollisionStay</span>(other,self) <span class="comment">//碰撞持续时触发</span></span><br><span class="line"><span class="title function_">onCollisionExit</span>(other,self) <span class="comment">//碰撞结束时触发</span></span><br></pre></td></tr></table></figure><br><code>其中 other 表示碰撞到的另一个物体 ,self表示自己,他们都是cc.Collider类</code><br>此外,要想让碰撞检测生效,还需要执行 <code>cc.director.getCollisionManager().enabled = true;</code> 让碰撞管理器启用<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">start</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> cm = cc.<span class="property">director</span>.<span class="title function_">getCollisionManager</span>();</span><br><span class="line">  cm.<span class="property">enabled</span> = <span class="literal">true</span>;<span class="comment">//开启碰撞管理  默认是关着 因为打开cpu会一直运算</span></span><br><span class="line">  cm.<span class="property">enabledDebugDraw</span> = <span class="literal">true</span>;<span class="comment">//开启碰撞绘制边界线 用于调试时候可以清除的看清碰撞边界</span></span><br><span class="line">  cn.<span class="property">enabledDrawBoundingBox</span> = <span class="literal">true</span>; <span class="comment">//只有在开启碰撞绘制边界线的时候 这行代码才会生效 用处不大 就是给当前碰撞体加了个边框 如若组件是透明的 可以使用这个更清晰的查看</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">onCollisionEnter</span>(<span class="attr">other</span>: cc.<span class="property">Collider</span> ,<span class="attr">self</span>: cc.<span class="property">Collider</span>): <span class="built_in">void</span>&#123; </span><br><span class="line">  cc.<span class="title function_">log</span>(<span class="string">&quot;发生碰撞 $&#123;other.tag&#125; --- $&#123;self.tag&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="数据存储-本地"><a href="#数据存储-本地" class="headerlink" title="数据存储(本地)"></a>数据存储(本地)</h4><blockquote><p>本质其实就是 <code>localStorage</code>存储<br>可以使用cc封装的 也可以直接使用localStorage对象<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">saveData</span>(<span class="params"></span>)&#123;</span><br><span class="line">  cc.<span class="property">sys</span>.<span class="property">localStorage</span>.<span class="title function_">setItem</span>(k,v); <span class="comment">//保存数据   v 会自动转String 所以可以将数据转成JSON串 传入</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">start</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> data = cc.<span class="property">sys</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(k); <span class="comment">//获取数据</span></span><br><span class="line">  cc.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">removeData</span>(<span class="params"></span>)&#123;</span><br><span class="line">  cc.<span class="property">sys</span>.<span class="property">localStorage</span>.<span class="title function_">removeItem</span>(k);<span class="comment">//删除数据</span></span><br><span class="line">  cc.<span class="property">sys</span>.<span class="property">localStorage</span>.<span class="title function_">clear</span>();<span class="comment">//全部清除</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>面向对象存储(JSON)<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">data</span>: data = <span class="keyword">new</span> <span class="title class_">Data</span>(); <span class="comment">//创建一个对象</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">jsonStr</span>: <span class="built_in">string</span> = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data); <span class="comment">//转换为JSON字符串</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">jsonObj</span>: <span class="title class_">Object</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="keyword">new</span> <span class="title class_">Data</span>(),<span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonStr)); <span class="comment">//解析JSON字符串并转为Data对象 assign就是拼装的意思</span></span><br></pre></td></tr></table></figure></p></blockquote><h4 id="对象类"><a href="#对象类" class="headerlink" title="对象类"></a>对象类</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Data</span>&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">level</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">hp</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">mp</span>: <span class="built_in">number</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//constructor 是指类的构造方法  参数中携带? 代表可传可不传  TS中特殊写法 JS会报错   | 代表不确定类型 可传多种类型使用这个符号连接</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name?: <span class="built_in">string</span>, level?: <span class="built_in">number</span>|<span class="built_in">string</span>, hp?: <span class="built_in">number</span>, mp?: <span class="built_in">number</span></span>)&#123;</span><br><span class="line">    name ? <span class="variable language_">this</span>.<span class="property">name</span> = name : <span class="literal">null</span>;</span><br><span class="line">    level ? <span class="variable language_">this</span>.<span class="property">level</span> = level : <span class="literal">null</span>;</span><br><span class="line">    hp ? <span class="variable language_">this</span>.<span class="property">hp</span> = hp : <span class="literal">null</span>;</span><br><span class="line">    mp ? <span class="variable language_">this</span>.<span class="property">mp</span> = mp : <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//重写toString()</span></span><br><span class="line">  <span class="title function_">toString</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&#x27;[name = $&#123;this.name&#125;,level = $&#123;this.level&#125;, hp = $&#123;this.hp&#125;,mp = $&#123;this.mp&#125;]&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Socket通信"><a href="#Socket通信" class="headerlink" title="Socket通信"></a>Socket通信</h4><blockquote><p>cocos自身是不支持Socket的 但我们使用原生态H5自带的WebSocket对象 <code>如果熟悉node.js 可以尝试使用socket.io库</code><br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> socket = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&quot;ws://192.168.10.196:1014&quot;</span>); <span class="comment">//指定协议为 ws 即WebSocket缩写 后面跟IP 端口</span></span><br></pre></td></tr></table></figure><br>给socket对象添加监听事件</p><ul><li>open 客户端和服务端完成握手协议 开启通信</li><li>message 客户端接收到来自服务端的消息时</li><li>error 当连接发生错误时</li><li>close 当服务器断开和客户端的连接时</li></ul></blockquote><h4 id="场景切换"><a href="#场景切换" class="headerlink" title="场景切换"></a>场景切换</h4><blockquote><p>场景切换有俩种方法:</p><ul><li>直接加载一个新场景<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cc.<span class="property">director</span>.<span class="title function_">loadScene</span>(<span class="attr">sceneName</span>: <span class="built_in">string</span>,onLaunched?: <span class="keyword">function</span>); <span class="comment">//onLaunched回调函数 基本没用 但如果你需要保存当前场景的某些东西 就使用这个回调函数</span></span><br></pre></td></tr></table></figure></li><li>预加载场景 适用于场景比较大时候 无中间延迟<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cc.<span class="property">director</span>.<span class="title function_">preLoadScene</span>(<span class="attr">sceneName</span>: <span class="built_in">string</span>,<span class="attr">onPrograss</span>: <span class="keyword">function</span>,<span class="attr">onLoaded</span>: <span class="keyword">function</span>);</span><br><span class="line"><span class="comment">//其中 onProgarss 是加载进度发生改变的回调函数 可以有三个参数</span></span><br><span class="line"><span class="comment">// completedCount: number 已加载的资源个数</span></span><br><span class="line"><span class="comment">// totalCount: number 场景总资源个数</span></span><br><span class="line"><span class="comment">// item: any流出加载管道的最新项目</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//onLoaded是加载完成后的回调函数,可以有一个参数:</span></span><br><span class="line"><span class="comment">// error 加载错误信息</span></span><br></pre></td></tr></table></figure>常驻节点 比如开始界面 (不销毁这个场景) 经常用于数据传递<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cc.<span class="property">game</span>.<span class="title function_">addPresistRootNode</span>(node);<span class="comment">//添加常驻节点</span></span><br><span class="line">cc.<span class="property">game</span>.<span class="title function_">removePresistRootNode</span>(node);<span class="comment">//删除常驻节点  这个不是直接删除节点了 而是取消了该节点的常驻属性 在下一个场景下 该节点就会自动销毁</span></span><br></pre></td></tr></table></figure></li></ul></blockquote><h4 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h4><blockquote><p>如果你有java类似的基础,你会很好上手这篇文章。<br>TMD</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cocos </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>修改Maven镜像</title>
      <link href="/posts/30064.html"/>
      <url>/posts/30064.html</url>
      
        <content type="html"><![CDATA[<h3 id="Maven阿里云镜像代码"><a href="#Maven阿里云镜像代码" class="headerlink" title="Maven阿里云镜像代码"></a>Maven阿里云镜像代码</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="仓库配置"><a href="#仓库配置" class="headerlink" title="仓库配置"></a>仓库配置</h3><blockquote><p>在settings标签下 添加localRepository标签指定本地仓库存放位置<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.2.0&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\maven-3.9.1\Repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line">  $&#123;repositorySystemSession.localRepository.directory&#125;</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Maven插件</title>
      <link href="/posts/30065.html"/>
      <url>/posts/30065.html</url>
      
        <content type="html"><![CDATA[<h3 id="为什么要有Maven插件"><a href="#为什么要有Maven插件" class="headerlink" title="为什么要有Maven插件"></a>为什么要有Maven插件</h3><blockquote><p>在执行Maven Clean的时候 如果没有一个正常的插件会报错，导致Maven无法清除缓存，无法排查构建项目。<br>甚至我们在想看一些依赖在Downloading的时候(mvn install) 看不到有关信息。<br>笔者觉得把Maven的插件相关 放到这里保存。各位随意复制。<br>要补充的是笔者用的Maven版本 —-&gt;   3.9.1</p></blockquote><h4 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>live.resource<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- jetty run plugin --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.eclipse.jetty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jetty-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.3.25.v20180904<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">httpConnector</span>&gt;</span></span><br><span class="line">                       <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;/<span class="name">httpConnector</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span><span class="comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-clean-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">               <span class="comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.22.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-install-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>以上是笔者常用的一些插件 除了Jetty以外。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>SpringBanner</title>
      <link href="/posts/30093.html"/>
      <url>/posts/30093.html</url>
      
        <content type="html"><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><blockquote><p>SpringBanner就是启动时的横幅。<br>在resources目录下新建banner.txt文件。在里面输入内容Spring会自动替换Banner。<br>笔者偶然间心血来潮，想给自己以后的程序添加上独特的标志，于是在网上找了找一些关于banner生成的网站。笔者推荐一个。<br><a href="http://patorjk.com/software/taag/#p=testall&amp;h=0&amp;v=0&amp;f=Graffiti&amp;t=magic%20book%0A">点这里生成banner</a></p></blockquote><h4 id="笔者自己用的"><a href="#笔者自己用的" class="headerlink" title="笔者自己用的"></a>笔者自己用的</h4><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$&#123;AnsiColor.BRIGHT_CYAN&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">::::    ::::      :::      ::::::::  :::::::::::  ::::::::        :::::::::   ::::::::   ::::::::  :::    :::</span><br><span class="line">+:+:+: :+:+:+   :+: :+:   :+:    :+:     :+:     :+:    :+:       :+:    :+: :+:    :+: :+:    :+: :+:   :+:</span><br><span class="line">+:+ +:+:+ +:+  +:+   +:+  +:+            +:+     +:+              +:+    +:+ +:+    +:+ +:+    +:+ +:+  +:+</span><br><span class="line">+#+  +:+  +#+ +#++:++#++: :#:            +#+     +#+              +#++:++#+  +#+    +:+ +#+    +:+ +#++:++</span><br><span class="line">+#+       +#+ +#+     +#+ +#+   +#+#     +#+     +#+              +#+    +#+ +#+    +#+ +#+    +#+ +#+  +#+</span><br><span class="line">#+#       #+# #+#     #+# #+#    #+#     #+#     #+#    #+#       #+#    #+# #+#    #+# #+#    #+# #+#   #+#</span><br><span class="line">###       ### ###     ###  ########  ###########  ########        #########   ########   ########  ###    ###</span><br><span class="line"></span><br><span class="line">-- Speak your magic spell quickly ！</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>效果图，笔者觉得帅爆了~<br><img src="https://img.yybk.cc/page/202309021405321.png" alt="效果图"></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>log4j和log4j2</title>
      <link href="/posts/30094.html"/>
      <url>/posts/30094.html</url>
      
        <content type="html"><![CDATA[<h3 id="日志框架配置"><a href="#日志框架配置" class="headerlink" title="日志框架配置"></a>日志框架配置</h3><blockquote><p>log4j支持properties文件，而log4j2取消支持了log4j的properties文件，采用了xml,json文件。<br>另外log4j2支持了颜色自定义，最大的特点是异步的，性能提升。<br>俩个没啥功能性上的实质区别。</p><h4 id="log4j"><a href="#log4j" class="headerlink" title="log4j"></a>log4j</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#级别：ALL &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF</span></span><br><span class="line"><span class="comment">#将等级为DEBUG的日志信息输出到console和file这两个目的地，console和file的定义在下面的代码</span></span><br><span class="line"><span class="attr">log4j.rootLogger</span>=<span class="string">INFO,console</span></span><br><span class="line"><span class="comment">#控制台输出的相关设置</span></span><br><span class="line"><span class="comment">#Appenders</span></span><br><span class="line"><span class="comment">#org.apache.log4j.ConsoleAppender（控制台）</span></span><br><span class="line"><span class="comment">#org.apache.log4j.FileAppender（文件）</span></span><br><span class="line"><span class="comment">#org.apache.log4j.DailyRollingFileAppender（每天产生一个日志文件）</span></span><br><span class="line"><span class="comment">#org.apache.log4j.RollingFileAppender（文件大小到达指定尺寸的时候产生一个新的文件）</span></span><br><span class="line"><span class="comment">#org.apache.log4j.WriterAppender（将日志信息以流格式发送到任意指定的地方）</span></span><br><span class="line"><span class="comment">#layout</span></span><br><span class="line"><span class="comment">#org.apache.log4j.HTMLLayout（以HTML表格形式布局）</span></span><br><span class="line"><span class="comment">#org.apache.log4j.PatternLayout（可以灵活地指定布局模式）</span></span><br><span class="line"><span class="comment">#org.apache.log4j.SimpleLayout（包含日志信息的级别和信息字符串）</span></span><br><span class="line"><span class="comment">#org.apache.log4j.TTCCLayout（包含日志产生的时间、线程、类别等信息）</span></span><br><span class="line"><span class="comment">#pattern</span></span><br><span class="line"><span class="comment">#%p：输出日志信息的优先级，即DEBUG，INFO，WARN，ERROR，FATAL。</span></span><br><span class="line"><span class="comment">#%d：输出日志时间点的日期或时间，默认格式为ISO8601，也可以在其后指定格式，如：%d&#123;yyyy/MM/dd HH:mm:ss,SSS&#125;。</span></span><br><span class="line"><span class="comment">#%r：输出自应用程序启动到输出该log信息耗费的毫秒数。</span></span><br><span class="line"><span class="comment">#%t：输出产生该日志事件的线程名。</span></span><br><span class="line"><span class="comment">#%l：输出日志事件的发生位置，相当于%c.%M(%F:%L)的组合，包括类全名、方法、文件名以及在代码中的行数。例如：test.TestLog4j.main(TestLog4j.java:10)。</span></span><br><span class="line"><span class="comment">#%c：输出日志信息所属的类目，通常就是所在类的全名。</span></span><br><span class="line"><span class="comment">#%M：输出产生日志信息的方法名。</span></span><br><span class="line"><span class="comment">#%F：输出日志消息产生时所在的文件名称。</span></span><br><span class="line"><span class="comment">#%L:：输出代码中的行号。</span></span><br><span class="line"><span class="comment">#%m:：输出代码中指定的具体日志信息。</span></span><br><span class="line"><span class="comment">#%n：输出一个回车换行符，Windows平台为&quot;\r\n&quot;，Unix平台为&quot;\n&quot;。</span></span><br><span class="line"><span class="comment">#%x：输出和当前线程相关联的NDC(嵌套诊断环境)，尤其用到像java servlets这样的多客户多线程的应用中。</span></span><br><span class="line"><span class="comment">#%%：输出一个&quot;%&quot;字符。</span></span><br><span class="line"><span class="attr">log4j.appender.console</span> = <span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="attr">log4j.appender.console.Target</span> = <span class="string">System.out</span></span><br><span class="line"><span class="attr">log4j.appender.console.Threshold</span>=<span class="string">INFO</span></span><br><span class="line"><span class="attr">log4j.appender.console.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="comment">#log4j.appender.console.layout.ConversionPattern=[%c]-%m%n</span></span><br><span class="line"><span class="attr">log4j.appender.console.layout.ConversionPattern</span>=<span class="string">[%p] [%d&#123;yyyy-MM-dd HH:mm:ss&#125;] [%c] %m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#============================================================END===========================================================================</span></span><br><span class="line"><span class="comment">#文件输出的相关设置</span></span><br><span class="line"><span class="comment">#&#x27;.&#x27;yyyy-MM：每月</span></span><br><span class="line"><span class="comment">#&#x27;.&#x27;yyyy-ww：每周</span></span><br><span class="line"><span class="comment">#&#x27;.&#x27;yyyy-MM-dd：每天</span></span><br><span class="line"><span class="comment">#&#x27;.&#x27;yyyy-MM-dd-a：每天两次</span></span><br><span class="line"><span class="comment">#&#x27;.&#x27;yyyy-MM-dd-HH：每小时</span></span><br><span class="line"><span class="comment">#&#x27;.&#x27;yyyy-MM-dd-HH-mm：每分钟</span></span><br><span class="line"><span class="attr">log4j.appender.file</span> = <span class="string">org.apache.log4j.DailyRollingFileAppender</span></span><br><span class="line"><span class="attr">log4j.appender.file.File</span>=<span class="string">./log/yybk.user.log</span></span><br><span class="line"><span class="attr">log4j.appender.file.MaxFileSize</span>=<span class="string">10mb</span></span><br><span class="line"><span class="attr">log4j.appender.file.Threshold</span>=<span class="string">INFO</span></span><br><span class="line"><span class="attr">log4j.appender.file.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.file.layout.ConversionPattern</span>=<span class="string">[%p][%d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125;][%c]%m%n</span></span><br><span class="line"><span class="attr">log4j.appender.file.DatePattern</span>=<span class="string">&#x27;.&#x27;yyyy-MM-dd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#============================================================END===========================================================================</span></span><br><span class="line"><span class="comment">#日志输出级别</span></span><br><span class="line"><span class="comment">#log4j.logger.org.mybatis=DEBUG</span></span><br><span class="line"><span class="comment">#log4j.logger.java.sql=DEBUG</span></span><br><span class="line"><span class="comment">#log4j.logger.java.sql.Statement=DEBUG</span></span><br><span class="line"><span class="comment">#log4j.logger.java.sql.ResultSet=DEBUG</span></span><br><span class="line"><span class="comment">#log4j.logger.java.sql.PreparedStatement=DEBUG</span></span><br></pre></td></tr></table></figure><h4 id="log4j2"><a href="#log4j2" class="headerlink" title="log4j2"></a>log4j2</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用slf4j 作为日志门面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用 log4j2 的适配器进行绑定 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- log4j2 日志门面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- log4j2 日志实面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_HOME&quot;</span>&gt;</span>./service-logs<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--*********************控制台日志***********************--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;consoleAppender&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--设置日志格式及颜色--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">pattern</span>=<span class="string">&quot;%style&#123;%d&#123;yyyy-MM-dd HH:mm:ss&#125;&#125;&#123;cyan&#125; [%highlight&#123;%level&#125;] %style&#123;%C&#123;&#125;&#125;&#123;blue&#125;: %msg%n%style&#123;%throwable&#125;&#123;red&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">disableAnsi</span>=<span class="string">&quot;false&quot;</span> <span class="attr">noConsoleNoAnsi</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--*********************文件日志***********************--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        &amp;lt;!&amp;ndash;debug级别日志&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;RollingFile name=&quot;debugFileAppender&quot;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                     fileName=&quot;$&#123;LOG_HOME&#125;/debug.log&quot;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                     filePattern=&quot;$&#123;LOG_HOME&#125;/$$&#123;date:yyyy-MM&#125;/debug-%d&#123;yyyy-MM-dd&#125;-%i.log.gz&quot;&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;Filters&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &amp;lt;!&amp;ndash;过滤掉info及更高级别日志&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;/Filters&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &amp;lt;!&amp;ndash;设置日志格式&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;PatternLayout&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &lt;pattern&gt;%d %p %C&#123;&#125; [%t] %m%n&lt;/pattern&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;/PatternLayout&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;Policies&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &amp;lt;!&amp;ndash; 设置日志文件切分参数 &amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &amp;lt;!&amp;ndash;&lt;OnStartupTriggeringPolicy/&gt;&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &amp;lt;!&amp;ndash;设置日志基础文件大小，超过该大小就触发日志文件滚动更新&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &amp;lt;!&amp;ndash;设置日志文件滚动更新的时间，依赖于文件命名filePattern的设置&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                &lt;TimeBasedTriggeringPolicy/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;/Policies&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &amp;lt;!&amp;ndash;设置日志的文件个数上限，不设置默认为7个，超过大小后会被覆盖；依赖于filePattern中的%i&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;DefaultRolloverStrategy max=&quot;100&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/RollingFile&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 根日志设置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Root</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;consoleAppender&quot;</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Root</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        &amp;lt;!&amp;ndash;spring日志&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;Logger name=&quot;org.springframework&quot; level=&quot;debug&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &amp;lt;!&amp;ndash;druid数据源日志&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;Logger name=&quot;druid.sql.Statement&quot; level=&quot;warn&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &amp;lt;!&amp;ndash; mybatis日志 &amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;Logger name=&quot;com.mybatis&quot; level=&quot;warn&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;Logger name=&quot;org.hibernate&quot; level=&quot;warn&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;Logger name=&quot;com.zaxxer.hikari&quot; level=&quot;info&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;Logger name=&quot;org.quartz&quot; level=&quot;info&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;Logger name=&quot;com.andya.demo&quot; level=&quot;debug&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Maven依赖汇总</title>
      <link href="/posts/30095.html"/>
      <url>/posts/30095.html</url>
      
        <content type="html"><![CDATA[<h3 id="依赖汇总"><a href="#依赖汇总" class="headerlink" title="依赖汇总"></a>依赖汇总</h3><h4 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mysql驱动--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="sql连接池"><a href="#sql连接池" class="headerlink" title="sql连接池"></a>sql连接池</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--sql连接池--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.18<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="mybatis-plus"><a href="#mybatis-plus" class="headerlink" title="mybatis-plus"></a>mybatis-plus</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatis-plus的依赖--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="log4j日志"><a href="#log4j日志" class="headerlink" title="log4j日志"></a>log4j日志</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="log4j2日志"><a href="#log4j2日志" class="headerlink" title="log4j2日志"></a>log4j2日志</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用slf4j 作为日志门面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用 log4j2 的适配器进行绑定 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- log4j2 日志门面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- log4j2 日志实面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="lombok"><a href="#lombok" class="headerlink" title="lombok"></a>lombok</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.18<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--切面依赖--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="swagger2"><a href="#swagger2" class="headerlink" title="swagger2"></a>swagger2</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--用于访问http://localhost:8080/swagger-ui.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--用于访问http://localhost:8080/doc.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger-bootstrap-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--因为swagger2 是依赖于Google的guava，我本项目中引入的swagger2是最高版本，因此引入下面的jar包，否侧报错“Failed to start bean &#x27;documentationPluginsBootstrapper--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.guava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guava<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>20.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Jetty"><a href="#Jetty" class="headerlink" title="Jetty"></a>Jetty</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Jetty服务器--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jetty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="jsoup"><a href="#jsoup" class="headerlink" title="jsoup"></a>jsoup</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--爬虫--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jsoup<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsoup<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.11.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="hutool"><a href="#hutool" class="headerlink" title="hutool"></a>hutool</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--hutool工具包--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.hutool<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hutool-json<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.7.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="commons-long3"><a href="#commons-long3" class="headerlink" title="commons-long3"></a>commons-long3</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--commons-long3--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--redis依赖--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="redis连接池"><a href="#redis连接池" class="headerlink" title="redis连接池"></a>redis连接池</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Redis连接池--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="jwt"><a href="#jwt" class="headerlink" title="jwt"></a>jwt</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jwt依赖--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="微服务"><a href="#微服务" class="headerlink" title="微服务"></a>微服务</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--在这里管理所有cloud的依赖 保证一致性--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>Hoxton.SR12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="eureka"><a href="#eureka" class="headerlink" title="eureka"></a>eureka</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>搭建微服务遇到的坑</title>
      <link href="/posts/30096.html"/>
      <url>/posts/30096.html</url>
      
        <content type="html"><![CDATA[<h4 id="pom-爷爷"><a href="#pom-爷爷" class="headerlink" title="pom(爷爷)"></a>pom(爷爷)</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cc.yybk<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cloud-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk-service-cloud-api<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk-service-cloud-eureka-7001<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk.user<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk.user<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">junit.version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">junit.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log4j.version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">log4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">lombok.version</span>&gt;</span>1.16.18<span class="tag">&lt;/<span class="name">lombok.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.49<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mybaits.version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">mybaits.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">springloaded.version</span>&gt;</span>1.2.8.RELEASE<span class="tag">&lt;/<span class="name">springloaded.version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--在这里管理所有cloud的依赖 保证一致性--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>Hoxton.SR12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>cloudServer<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">delimiters</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">delimit</span>&gt;</span>$<span class="tag">&lt;/<span class="name">delimit</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">delimiters</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="服务发现-eureka"><a href="#服务发现-eureka" class="headerlink" title="服务发现(eureka)"></a>服务发现(eureka)</h4><h5 id="pom文件"><a href="#pom文件" class="headerlink" title="pom文件"></a>pom文件</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cloud-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cc.yybk<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yybk-service-cloud-eureka-7001<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>yybk-service-cloud-eureka-7001<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--描述内容--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--devtools 和 lombok 均为开发辅助模块，根据需求适当选择--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h5><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">7001</span></span><br><span class="line"><span class="comment">#给应用起个名字</span></span><br><span class="line"><span class="attr">spring.application.name</span>=<span class="string">eureka</span></span><br><span class="line"><span class="comment">#eureka服务端的实例名称，</span></span><br><span class="line"><span class="attr">eureka.instance.hostname</span>=<span class="string">localhost</span></span><br><span class="line"><span class="comment">#false表示不像服务端注册自己</span></span><br><span class="line"><span class="attr">eureka.client.register-with-eureka</span>=<span class="string">false</span></span><br><span class="line"><span class="comment">#false表示自己就是注册中心，我的职责就是维护服务实例，不需要去检索服务</span></span><br><span class="line"><span class="attr">eureka.client.fetch-registry</span>=<span class="string">false</span></span><br><span class="line"><span class="comment">#单机版服务注册中心</span></span><br><span class="line"><span class="attr">eureka.client.service-url.defaultZone</span>=<span class="string">http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/$&#123;spring.application.name&#125;/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="服务提供者-服务消费者"><a href="#服务提供者-服务消费者" class="headerlink" title="服务提供者/服务消费者"></a>服务提供者/服务消费者</h4><h5 id="pom文件-1"><a href="#pom文件-1" class="headerlink" title="pom文件"></a>pom文件</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cloud-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cc.yybk<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>yybk.user<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>user.application<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>user.port<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>user.domain<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>user.resource<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--mysql驱动--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--mybatis-plus的依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="application-properties-1"><a href="#application-properties-1" class="headerlink" title="application.properties"></a>application.properties</h5><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://192.168.10.252:3306/mk_db</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">yuneng</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">123456</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus.mapper-locations</span>=<span class="string">classpath:/mapper/*.xml</span></span><br><span class="line"><span class="comment">#驼峰命名  默认开启驼峰命名法，可以不用设置该属性</span></span><br><span class="line"><span class="attr">mybatis-plus.configuration.map-underscore-to-camel-case</span>=<span class="string">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">1014</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#给应用起名称</span></span><br><span class="line"><span class="attr">spring.application.name</span>=<span class="string">yybk.user</span></span><br><span class="line"><span class="comment">#将客户端注册到服务发现</span></span><br><span class="line"><span class="attr">eureka.client.service-url.defaultZone</span>=<span class="string">http://localhost:7001/eureka</span></span><br><span class="line"><span class="comment">#自定义服务名信息</span></span><br><span class="line"><span class="attr">eureka.instance.instance-id</span>=<span class="string">yybk.user</span></span><br><span class="line"><span class="comment">#显示访问路径的ip地址</span></span><br><span class="line"><span class="attr">eureka.instance.prefer-ip-address</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure><h5 id="主启动类"><a href="#主启动类" class="headerlink" title="主启动类"></a>主启动类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cc.yybk.resource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.eureka.EnableEurekaClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;cc.yybk.*&quot;)</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;cc.yybk.mapper&quot;)</span></span><br><span class="line"><span class="meta">@EnableEurekaClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>这里注意的是，如果没写@MapperScan会报错 并且组件扫描要定义到宏观共有的包</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Java常用封装工具类</title>
      <link href="/posts/30097.html"/>
      <url>/posts/30097.html</url>
      
        <content type="html"><![CDATA[<h3 id="背景说明"><a href="#背景说明" class="headerlink" title="背景说明"></a>背景说明</h3><blockquote><p>笔者<code>工作</code> + <code>学习</code>都要建相当多的Java工程、又是单项目，又是微服务，又是集群的。<br>可是这一切都建立在公司已经做好封装的基础上。如果有一天突然离职，这么好的封装类岂不是浪费掉了。<br>于是笔者打算把一些封装好的类。保留在这里。</p></blockquote><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="YResult-lt-优雅的数据返回-gt"><a href="#YResult-lt-优雅的数据返回-gt" class="headerlink" title="YResult&lt;优雅的数据返回&gt;"></a>YResult&lt;优雅的数据返回&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YResult</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> T content;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> status;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YResult</span><span class="params">(T c, <span class="type">int</span> s)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.content = c;</span><br><span class="line">        <span class="built_in">this</span>.status = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YResult</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getContent</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getStatus</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setContent</span><span class="params">(T c)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.content = c;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStatus</span><span class="params">(<span class="type">int</span> s)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.status = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="YPager-lt-优雅的分页数据返回-gt"><a href="#YPager-lt-优雅的分页数据返回-gt" class="headerlink" title="YPager &lt;优雅的分页数据返回&gt;"></a>YPager &lt;优雅的分页数据返回&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YPager</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;T&gt; content;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> status;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> total;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> pages;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> pageSize;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> pageIndex;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">isLastPage</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YPager</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YPager</span><span class="params">(List&lt;T&gt; c, <span class="type">int</span> status, <span class="type">int</span> total, <span class="type">int</span> pageSize, <span class="type">int</span> pageIndex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.content = c;</span><br><span class="line">        <span class="built_in">this</span>.status = status;</span><br><span class="line">        <span class="built_in">this</span>.total = total;</span><br><span class="line">        <span class="built_in">this</span>.pageSize = pageSize;</span><br><span class="line">        <span class="built_in">this</span>.pageIndex = pageIndex;</span><br><span class="line">        <span class="built_in">this</span>.pages = total / pageSize + (total % pageSize != <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (pageIndex &gt;= <span class="built_in">this</span>.pages) &#123;</span><br><span class="line">            <span class="built_in">this</span>.isLastPage = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YPager</span><span class="params">(<span class="type">int</span> status, String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.status = status;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAll</span><span class="params">(List&lt;T&gt; c, <span class="type">int</span> status, <span class="type">int</span> total, <span class="type">int</span> pageSize, <span class="type">int</span> pageIndex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.content = c;</span><br><span class="line">        <span class="built_in">this</span>.status = status;</span><br><span class="line">        <span class="built_in">this</span>.total = total;</span><br><span class="line">        <span class="built_in">this</span>.pageSize = pageSize;</span><br><span class="line">        <span class="built_in">this</span>.pageIndex = pageIndex;</span><br><span class="line">        <span class="built_in">this</span>.pages = total / pageSize + (total % pageSize != <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">this</span>.isLastPage = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (pageIndex &gt;= <span class="built_in">this</span>.pages) &#123;</span><br><span class="line">            <span class="built_in">this</span>.isLastPage = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPager</span><span class="params">(<span class="type">int</span> total, <span class="type">int</span> pageSize, <span class="type">int</span> pageIndex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.total = total;</span><br><span class="line">        <span class="built_in">this</span>.pageSize = pageSize;</span><br><span class="line">        <span class="built_in">this</span>.pageIndex = pageIndex;</span><br><span class="line">        <span class="built_in">this</span>.pages = total / pageSize + (total % pageSize != <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">this</span>.isLastPage = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (pageIndex &gt;= <span class="built_in">this</span>.pages) &#123;</span><br><span class="line">            <span class="built_in">this</span>.isLastPage = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;T&gt; <span class="title function_">getContent</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setContent</span><span class="params">(List&lt;T&gt; content)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.content = content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getStatus</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStatus</span><span class="params">(<span class="type">int</span> status)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.status = status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getTotal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.total;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTotal</span><span class="params">(<span class="type">int</span> total)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.total = total;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPages</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.pages;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPages</span><span class="params">(<span class="type">int</span> pages)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pages = pages;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPageSize</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.pageSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPageSize</span><span class="params">(<span class="type">int</span> pageSize)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pageSize = pageSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPageIndex</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.pageIndex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPageIndex</span><span class="params">(<span class="type">int</span> pageIndex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pageIndex = pageIndex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isLastPage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.pageIndex &gt;= <span class="built_in">this</span>.pages ? <span class="literal">true</span> : <span class="built_in">this</span>.isLastPage;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="YException-lt-自定义异常类-gt"><a href="#YException-lt-自定义异常类-gt" class="headerlink" title="YException &lt;自定义异常类&gt;"></a>YException &lt;自定义异常类&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YException</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">        <span class="built_in">this</span>.setStatus(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">this</span>.setMessage(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YException</span><span class="params">(Integer status, String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">        <span class="built_in">this</span>.setStatus(status);</span><br><span class="line">        <span class="built_in">this</span>.setMessage(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YException</span><span class="params">(Integer status, String message, Throwable cause)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message, cause);</span><br><span class="line">        <span class="built_in">this</span>.setStatus(status);</span><br><span class="line">        <span class="built_in">this</span>.setMessage(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YException</span><span class="params">(String message, Throwable cause)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message, cause);</span><br><span class="line">        <span class="built_in">this</span>.setStatus(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">this</span>.setMessage(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">YException</span><span class="params">(Throwable cause)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(cause);</span><br><span class="line">        <span class="built_in">this</span>.setStatus(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">this</span>.setMessage((String)<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getStatus</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setStatus</span><span class="params">(Integer status)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.status = status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="RedisConfig-lt-缓存键值对序列化-gt"><a href="#RedisConfig-lt-缓存键值对序列化-gt" class="headerlink" title="RedisConfig &lt;缓存键值对序列化&gt;"></a>RedisConfig &lt;缓存键值对序列化&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate <span class="title function_">redisTemplate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//设置key序列化</span></span><br><span class="line">        redisTemplate.setHashKeySerializer(RedisSerializer.string());</span><br><span class="line">        redisTemplate.setKeySerializer(RedisSerializer.string());</span><br><span class="line">        <span class="comment">//设置value序列化</span></span><br><span class="line">        redisTemplate.setValueSerializer(RedisSerializer.string());</span><br><span class="line">        redisTemplate.setHashValueSerializer(RedisSerializer.string());</span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="CorsConfiguration-lt-跨域配置-gt"><a href="#CorsConfiguration-lt-跨域配置-gt" class="headerlink" title="CorsConfiguration &lt;跨域配置&gt;"></a>CorsConfiguration &lt;跨域配置&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CorsConfiguration</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> &#123;</span><br><span class="line">        registry.addMapping(<span class="string">&quot;/**&quot;</span>)</span><br><span class="line">                .allowedOriginPatterns(<span class="string">&quot;*&quot;</span>)<span class="comment">//允许哪些域访问</span></span><br><span class="line">                .allowedMethods(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>, <span class="string">&quot;PUT&quot;</span>, <span class="string">&quot;DELETE&quot;</span>, <span class="string">&quot;HEAD&quot;</span>, <span class="string">&quot;OPTIONS&quot;</span>)<span class="comment">//允许哪些方法访问</span></span><br><span class="line">                .allowCredentials(<span class="literal">true</span>)<span class="comment">//是否允许携带cookie</span></span><br><span class="line">                .maxAge(<span class="number">3600</span>)<span class="comment">//设置浏览器询问的有效期</span></span><br><span class="line">                .allowedHeaders(<span class="string">&quot;*&quot;</span>);<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="MD5Util-lt-加密算法-gt"><a href="#MD5Util-lt-加密算法-gt" class="headerlink" title="MD5Util &lt;加密算法&gt;"></a>MD5Util &lt;加密算法&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MD5Util</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * MD5加密字符串（32位大写）</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string 需要进行MD5加密的字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 加密后的字符串（大写）</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">md5Encrypt32Upper</span><span class="params">(String string)</span> &#123;</span><br><span class="line">        <span class="type">byte</span>[] hash;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建一个MD5算法对象，并获得MD5字节数组,16*8=128位</span></span><br><span class="line">            hash = MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>).digest(string.getBytes(<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Huh, MD5 should be supported?&quot;</span>, e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Huh, UTF-8 should be supported?&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//转换为十六进制字符串</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">hex</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(hash.length * <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">byte</span> b : hash) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((b &amp; <span class="number">0xFF</span>) &lt; <span class="number">0x10</span>) hex.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            hex.append(Integer.toHexString(b &amp; <span class="number">0xFF</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hex.toString().toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * MD5加密字符串（32位小写）</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string 需要进行MD5加密的字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 加密后的字符串（小写）</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">md5Encrypt32Lower</span><span class="params">(String string)</span> &#123;</span><br><span class="line">        <span class="type">byte</span>[] hash;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建一个MD5算法对象，并获得MD5字节数组,16*8=128位</span></span><br><span class="line">            hash = MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>).digest(string.getBytes(<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Huh, MD5 should be supported?&quot;</span>, e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Huh, UTF-8 should be supported?&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//转换为十六进制字符串</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">hex</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(hash.length * <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">byte</span> b : hash) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((b &amp; <span class="number">0xFF</span>) &lt; <span class="number">0x10</span>) hex.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            hex.append(Integer.toHexString(b &amp; <span class="number">0xFF</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hex.toString().toLowerCase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将二进制字节数组转换为十六进制字符串</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bytes 二进制字节数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 十六进制字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">bytesToHex</span><span class="params">(<span class="type">byte</span>[] bytes)</span> &#123;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">hexStr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="type">int</span> num;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; bytes.length; i++) &#123;</span><br><span class="line">            num = bytes[i];</span><br><span class="line">            <span class="keyword">if</span> (num &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                num += <span class="number">256</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num &lt; <span class="number">16</span>) &#123;</span><br><span class="line">                hexStr.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            hexStr.append(Integer.toHexString(num));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hexStr.toString().toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Unicode中文编码转换成字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">unicodeToString</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;(\\\\u(\\p&#123;XDigit&#125;&#123;4&#125;))&quot;</span>);</span><br><span class="line">        <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(str);</span><br><span class="line">        <span class="type">char</span> ch;</span><br><span class="line">        <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">            ch = (<span class="type">char</span>) Integer.parseInt(matcher.group(<span class="number">2</span>), <span class="number">16</span>);</span><br><span class="line">            str = str.replace(matcher.group(<span class="number">1</span>), ch + <span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String hexDigIts[] = &#123;<span class="string">&quot;0&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;7&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * MD5加密</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> origin      字符</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> charsetname 编码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">MD5Encode</span><span class="params">(String origin, String charsetname)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">resultString</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resultString = <span class="keyword">new</span> <span class="title class_">String</span>(origin);</span><br><span class="line">            <span class="type">MessageDigest</span> <span class="variable">md</span> <span class="operator">=</span> MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> == charsetname || <span class="string">&quot;&quot;</span>.equals(charsetname)) &#123;</span><br><span class="line">                resultString = byteArrayToHexString(md.digest(resultString.getBytes()));</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                resultString = byteArrayToHexString(md.digest(resultString.getBytes(charsetname)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">byteArrayToHexString</span><span class="params">(<span class="type">byte</span> b[])</span> &#123;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">resultSb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; b.length; i++) &#123;</span><br><span class="line">            resultSb.append(byteToHexString(b[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultSb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">byteToHexString</span><span class="params">(<span class="type">byte</span> b)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> b;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            n += <span class="number">256</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">d1</span> <span class="operator">=</span> n / <span class="number">16</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">d2</span> <span class="operator">=</span> n % <span class="number">16</span>;</span><br><span class="line">        <span class="keyword">return</span> hexDigIts[d1] + hexDigIts[d2];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> MD5Util.md5Encrypt32Upper(<span class="string">&quot;Song1014.&quot;</span>);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="CodeUtil-lt-验证码工具-gt"><a href="#CodeUtil-lt-验证码工具-gt" class="headerlink" title="CodeUtil &lt;验证码工具&gt;"></a>CodeUtil &lt;验证码工具&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成验证码 并把邮箱作为key放入redis</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> email</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">createCode</span><span class="params">(String email)</span>&#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">codeBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="comment">//两种类型</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">type</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>; index &lt; <span class="number">6</span> ; index ++)&#123;</span><br><span class="line">            <span class="comment">//生成1-3 的整数</span></span><br><span class="line">              <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span>  random.nextInt(<span class="number">2</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">switch</span> (r)&#123;</span><br><span class="line">                  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                      codeBuilder.append(random.nextInt(<span class="number">10</span>));</span><br><span class="line">                      <span class="keyword">continue</span>;</span><br><span class="line">                  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                      <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> (<span class="type">char</span>) (random.nextInt(<span class="number">26</span>) + <span class="number">65</span>);</span><br><span class="line">                      codeBuilder.append(c);</span><br><span class="line">              &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> codeBuilder.toString();</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断验证码是否正确</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> email</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> code</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">codeIsCorrect</span><span class="params">(String email , String code)</span>&#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">codeObj</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;EM_&quot;</span> + email);</span><br><span class="line">        <span class="keyword">if</span> ( <span class="literal">null</span> != codeObj)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">codeStr</span> <span class="operator">=</span>  (String) codeObj;</span><br><span class="line">            <span class="keyword">if</span> ( ! code.equals(codeStr))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Mybaits自动生成</title>
      <link href="/posts/30098.html"/>
      <url>/posts/30098.html</url>
      
        <content type="html"><![CDATA[<h3 id="背景说明"><a href="#背景说明" class="headerlink" title="背景说明"></a>背景说明</h3><blockquote><p>笔者最近在做微服务解耦分层，遇到了建表自动生成代码的问题。因为不想每次建完表后，一个一个建Service、Mapper、Domain，实在是太累啦~<br>但Mybaits自动生成代码不适用于分层后的项目。<br>笔者尝试过Mybaits-X，easy-code等等插件，都没有有效的解决这个问题。<br>于是笔者思来想去 决定还是自己稍微改造一下Mybaits的自动生成代码。</p></blockquote><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><blockquote><p>笔者把依赖放在Application中，也就是Service中。所以代码也在其中。<br>相关依赖<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 代码自动生成器依赖--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.velocity<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>velocity-engine-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>在此说明！笔者尝试过，抽取相同代码。但碍于数据库连接问题可能又或者是生成器的问题。总之不能抽公共部分<br>否则会造成生成相同的文件并且覆盖。无了个大语~  绝对不是笔者屎山代码~<br>如果是微服务，只需要改动上面的配置属性即可。如果不是的话，用最原始的代码生成器即可。<br>看下面具体代码吧。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.AutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.*;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.po.TableFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.DateType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisGenerator</span> &#123;</span><br><span class="line">    <span class="comment">//父模块(如果不是微服务，此项可以为空)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">PARENT_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-service-cloud-prodiver-1014&quot;</span>;</span><br><span class="line">    <span class="comment">//服务层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">APPLICATION_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-application&quot;</span>;</span><br><span class="line">    <span class="comment">//模组层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DOMAIN_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-domain&quot;</span>;</span><br><span class="line">    <span class="comment">//持久层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">PORT_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-port&quot;</span>;</span><br><span class="line">    <span class="comment">//控制层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">RESOURCE_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-resource&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库连接地址</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_SOURCE_URL</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://192.168.10.252:3306/mk_db?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT%2B8&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库用户名</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_USERNAME</span> <span class="operator">=</span> <span class="string">&quot;yuneng&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库密码</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_PASSWORD</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库驱动</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_DRIVER_NAME</span> <span class="operator">=</span> <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">table</span> <span class="operator">=</span> scanner(<span class="string">&quot;&lt;表名&gt;多个以逗号分隔&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 生成代码</span></span><br><span class="line">        executeApplication(table);</span><br><span class="line">        executePort(table);</span><br><span class="line">        executeDomain(table);</span><br><span class="line">        executeResource(table);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeApplication</span><span class="params">(String table)</span>&#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + PARENT_MODULE + File.separator + APPLICATION_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(<span class="string">&quot;cc.yybk&quot;</span>);</span><br><span class="line">        pc.setService(<span class="string">&quot;app&quot;</span>);</span><br><span class="line">        pc.setServiceImpl(<span class="string">&quot;app.impl&quot;</span>);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setController(<span class="literal">null</span>);</span><br><span class="line">        tc.setEntity(<span class="literal">null</span>);</span><br><span class="line">        tc.setMapper(<span class="literal">null</span>);</span><br><span class="line">        tc.setXml(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeDomain</span><span class="params">(String table)</span>&#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + <span class="string">&quot;/&quot;</span> + PARENT_MODULE + <span class="string">&quot;/&quot;</span> +  DOMAIN_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(<span class="string">&quot;cc.yybk&quot;</span>);</span><br><span class="line">        pc.setEntity(<span class="string">&quot;domain&quot;</span>);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setXml(<span class="literal">null</span>);</span><br><span class="line">        tc.setService(<span class="literal">null</span>);</span><br><span class="line">        tc.setMapper(<span class="literal">null</span>);</span><br><span class="line">        tc.setController(<span class="literal">null</span>);</span><br><span class="line">        tc.setServiceImpl(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executePort</span><span class="params">(String table)</span>&#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + <span class="string">&quot;/&quot;</span> + PARENT_MODULE + <span class="string">&quot;/&quot;</span> + PORT_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(<span class="string">&quot;cc.yybk&quot;</span>);</span><br><span class="line">        pc.setMapper(<span class="string">&quot;mapper&quot;</span>);</span><br><span class="line">        pc.setXml(<span class="string">&quot;mapper.xml&quot;</span>);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setEntity(<span class="literal">null</span>);</span><br><span class="line">        tc.setService(<span class="literal">null</span>);</span><br><span class="line">        tc.setController(<span class="literal">null</span>);</span><br><span class="line">        tc.setServiceImpl(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeResource</span><span class="params">(String table)</span>&#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">false</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">false</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + PARENT_MODULE + File.separator + RESOURCE_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(<span class="string">&quot;cc.yybk.resource&quot;</span>);</span><br><span class="line">        pc.setController(<span class="string">&quot;web&quot;</span>);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setEntity(<span class="literal">null</span>);</span><br><span class="line">        tc.setXml(<span class="literal">null</span>);</span><br><span class="line">        tc.setMapper(<span class="literal">null</span>);</span><br><span class="line">        tc.setService(<span class="literal">null</span>);</span><br><span class="line">        tc.setServiceImpl(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">scanner</span><span class="params">(String tip)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">help</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        help.append(<span class="string">&quot;请输入&quot;</span> + tip + <span class="string">&quot;：&quot;</span>);</span><br><span class="line">        System.out.println(help.toString());</span><br><span class="line">        <span class="keyword">if</span> (scanner.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">ipt</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">            <span class="keyword">if</span> (StringUtils.isNotBlank(ipt)) &#123;</span><br><span class="line">                <span class="keyword">return</span> ipt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusException</span>(<span class="string">&quot;请输入正确的&quot;</span> + tip + <span class="string">&quot;！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>笔者发现还是有点繁琐，于是又进行了改进，但还是存在一丢丢的bug 例如创建好xml后 不能自动映射到实体类。<br>实体类中Package默认不是指定的子包路径<br>无奈.jpg</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisGenerator</span> &#123;</span><br><span class="line">    <span class="comment">//TODO 修改表路径修改这里即可</span></span><br><span class="line">    <span class="comment">//Application子包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">APPLICATION_CHILD_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;execute&quot;</span>;</span><br><span class="line">    <span class="comment">//Domain子包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DOMAIN_CHILD_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;pojo&quot;</span>;</span><br><span class="line">    <span class="comment">//Port子包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">PORT_CHILD_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;query&quot;</span>;</span><br><span class="line">    <span class="comment">//Resource子包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">RESOURCE_CHILD_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;web&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO 首次使用需要配置一下 数据库连接、模块、父包</span></span><br><span class="line">    <span class="comment">//Application父包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">APPLICATION_BASE_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;cc.yybk.app&quot;</span>;</span><br><span class="line">    <span class="comment">//Domain父包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DOMAIN_BASE_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;cc.yybk.domain&quot;</span>;</span><br><span class="line">    <span class="comment">//Port父包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">PORT_BASE_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;cc.yybk.port&quot;</span>;</span><br><span class="line">    <span class="comment">//Resource父包</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">RESOURCE_BASE_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;cc.yybk.resource&quot;</span>;</span><br><span class="line">    <span class="comment">//父模块(如果不是微服务，此项可以为空)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">PARENT_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-service-cloud-prodiver-1014&quot;</span>;</span><br><span class="line">    <span class="comment">//服务层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">APPLICATION_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-application&quot;</span>;</span><br><span class="line">    <span class="comment">//模组层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DOMAIN_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-domain&quot;</span>;</span><br><span class="line">    <span class="comment">//持久层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">PORT_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-port&quot;</span>;</span><br><span class="line">    <span class="comment">//控制层</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">RESOURCE_MODULE</span> <span class="operator">=</span> <span class="string">&quot;yybk-resource&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库连接地址</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_SOURCE_URL</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://192.168.10.252:3306/mk_db?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT%2B8&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库用户名</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_USERNAME</span> <span class="operator">=</span> <span class="string">&quot;yuneng&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库密码</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_PASSWORD</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">    <span class="comment">//数据库驱动</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">DATA_DRIVER_NAME</span> <span class="operator">=</span> <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">table</span> <span class="operator">=</span> scanner(<span class="string">&quot;&lt;表名&gt;多个以逗号分隔&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 生成代码</span></span><br><span class="line">        executeApplication(table);</span><br><span class="line">        executePort(table);</span><br><span class="line">        executeDomain(table);</span><br><span class="line">        executeResource(table);</span><br><span class="line">        executeXml(table);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeApplication</span><span class="params">(String table)</span> &#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + PARENT_MODULE + File.separator + APPLICATION_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(APPLICATION_BASE_PACKAGE);</span><br><span class="line">        pc.setService(APPLICATION_CHILD_PACKAGE);</span><br><span class="line">        pc.setServiceImpl(APPLICATION_CHILD_PACKAGE + <span class="string">&quot;.impl&quot;</span>);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setController(<span class="literal">null</span>);</span><br><span class="line">        tc.setEntity(<span class="literal">null</span>);</span><br><span class="line">        tc.setMapper(<span class="literal">null</span>);</span><br><span class="line">        tc.setXml(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeDomain</span><span class="params">(String table)</span> &#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + <span class="string">&quot;/&quot;</span> + PARENT_MODULE + <span class="string">&quot;/&quot;</span> + DOMAIN_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(DOMAIN_BASE_PACKAGE);</span><br><span class="line">        pc.setEntity(DOMAIN_CHILD_PACKAGE);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setXml(<span class="literal">null</span>);</span><br><span class="line">        tc.setService(<span class="literal">null</span>);</span><br><span class="line">        tc.setMapper(<span class="literal">null</span>);</span><br><span class="line">        tc.setController(<span class="literal">null</span>);</span><br><span class="line">        tc.setServiceImpl(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executePort</span><span class="params">(String table)</span> &#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + <span class="string">&quot;/&quot;</span> + PARENT_MODULE + <span class="string">&quot;/&quot;</span> + PORT_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(PORT_BASE_PACKAGE);</span><br><span class="line">        pc.setMapper(PORT_CHILD_PACKAGE);</span><br><span class="line"><span class="comment">//        pc.setXml(&quot;mapper.xml&quot;);</span></span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setEntity(<span class="literal">null</span>);</span><br><span class="line">        tc.setService(<span class="literal">null</span>);</span><br><span class="line">        tc.setController(<span class="literal">null</span>);</span><br><span class="line">        tc.setServiceImpl(<span class="literal">null</span>);</span><br><span class="line">        tc.setXml(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeXml</span><span class="params">(String table)</span> &#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">true</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + <span class="string">&quot;/&quot;</span> + PARENT_MODULE + <span class="string">&quot;/&quot;</span> + PORT_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/resources&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(<span class="string">&quot;mapper&quot;</span>);</span><br><span class="line">        pc.setXml(PORT_CHILD_PACKAGE);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setEntity(<span class="literal">null</span>);</span><br><span class="line">        tc.setService(<span class="literal">null</span>);</span><br><span class="line">        tc.setController(<span class="literal">null</span>);</span><br><span class="line">        tc.setServiceImpl(<span class="literal">null</span>);</span><br><span class="line">        tc.setMapper(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeResource</span><span class="params">(String table)</span> &#123;</span><br><span class="line">        <span class="comment">// 代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        gc.setFileOverride(<span class="literal">true</span>);<span class="comment">//是否覆盖以前文件</span></span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);<span class="comment">//是否打开生成目录</span></span><br><span class="line">        gc.setAuthor(<span class="string">&quot;柳如丝儿~&quot;</span>);<span class="comment">//设置项目作者名称</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);<span class="comment">//设置主键策略</span></span><br><span class="line">        gc.setBaseResultMap(<span class="literal">true</span>);<span class="comment">//生成基本ResultMap</span></span><br><span class="line">        gc.setBaseColumnList(<span class="literal">true</span>);<span class="comment">//生成基本ColumnList</span></span><br><span class="line">        gc.setServiceName(<span class="string">&quot;%sService&quot;</span>);<span class="comment">//去掉服务默认前缀</span></span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);<span class="comment">//设置时间类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(DATA_SOURCE_URL);</span><br><span class="line">        dsc.setDriverName(DATA_DRIVER_NAME);</span><br><span class="line">        dsc.setUsername(DATA_USERNAME);</span><br><span class="line">        dsc.setPassword(DATA_PASSWORD);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        sc.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        sc.setEntityLombokModel(<span class="literal">true</span>);<span class="comment">//TODO 自动lombok</span></span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">false</span>);</span><br><span class="line">        sc.setControllerMappingHyphenStyle(<span class="literal">false</span>);</span><br><span class="line">        sc.setLogicDeleteFieldName(<span class="string">&quot;deleted&quot;</span>);<span class="comment">//设置逻辑删除</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置自动填充配置</span></span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_create</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT);</span><br><span class="line">        <span class="type">TableFill</span> <span class="variable">gmt_modified</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableFill</span>(<span class="string">&quot;update_time&quot;</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tableFills.add(gmt_create);</span><br><span class="line">        tableFills.add(gmt_modified);</span><br><span class="line">        sc.setTableFillList(tableFills);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乐观锁</span></span><br><span class="line">        sc.setVersionFieldName(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">        sc.setRestControllerStyle(<span class="literal">true</span>);<span class="comment">//驼峰命名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  sc.setTablePrefix(&quot;tbl_&quot;); 设置表名前缀</span></span><br><span class="line">        sc.setInclude(table);</span><br><span class="line">        mpg.setStrategy(sc);</span><br><span class="line">        <span class="comment">//设置代码生成的父包(此项仅用于分层后)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + PARENT_MODULE + File.separator + RESOURCE_MODULE;</span><br><span class="line">        gc.setOutputDir(projectPath + <span class="string">&quot;/src/main/java&quot;</span>);<span class="comment">//设置代码生成路径</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(RESOURCE_BASE_PACKAGE);</span><br><span class="line">        pc.setController(RESOURCE_CHILD_PACKAGE);</span><br><span class="line">        <span class="type">TemplateConfig</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemplateConfig</span>();</span><br><span class="line">        tc.setEntity(<span class="literal">null</span>);</span><br><span class="line">        tc.setXml(<span class="literal">null</span>);</span><br><span class="line">        tc.setMapper(<span class="literal">null</span>);</span><br><span class="line">        tc.setService(<span class="literal">null</span>);</span><br><span class="line">        tc.setServiceImpl(<span class="literal">null</span>);</span><br><span class="line">        mpg.setTemplate(tc);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">scanner</span><span class="params">(String tip)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">help</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        help.append(<span class="string">&quot;请输入&quot;</span> + tip + <span class="string">&quot;：&quot;</span>);</span><br><span class="line">        System.out.println(help.toString());</span><br><span class="line">        <span class="keyword">if</span> (scanner.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">ipt</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">            <span class="keyword">if</span> (StringUtils.isNotBlank(ipt)) &#123;</span><br><span class="line">                <span class="keyword">return</span> ipt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusException</span>(<span class="string">&quot;请输入正确的&quot;</span> + tip + <span class="string">&quot;！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Maven分层后的一些坑</title>
      <link href="/posts/30099.html"/>
      <url>/posts/30099.html</url>
      
        <content type="html"><![CDATA[<h3 id="Maven分层的结构体系"><a href="#Maven分层的结构体系" class="headerlink" title="Maven分层的结构体系"></a>Maven分层的结构体系</h3><ul><li>application  不以骨架方式创建</li><li>port 不以骨架方式创建</li><li>domain 不以骨架方式创建</li><li>resource 必须以骨架创建</li></ul><h3 id="父pom-xml"><a href="#父pom-xml" class="headerlink" title="父pom.xml"></a>父pom.xml</h3><blockquote><p>packaging 必须是pom modules里引入各个模块。<br>可以在properties标签里 引入spring.version mysql.version ….等等</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk-application<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk-domain<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk-resource<span class="tag">&lt;/<span class="name">module</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>yybk-port<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     </span><br><span class="line">        <span class="tag">&lt;<span class="name">junit.version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">junit.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log4j.version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">log4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">lombok.version</span>&gt;</span>1.16.18<span class="tag">&lt;/<span class="name">lombok.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.49<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mybaits.version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">mybaits.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">springloaded.version</span>&gt;</span>1.2.8.RELEASE<span class="tag">&lt;/<span class="name">springloaded.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--下面是spring的依赖,作用于子模块--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-orm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-clean-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.22.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-install-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="子模块pom如何写"><a href="#子模块pom如何写" class="headerlink" title="子模块pom如何写"></a>子模块pom如何写</h3><blockquote><p>resource 引 application ，application 引 port 和 domain<br>鉴于解耦思想，resource模块建议只引入application</p></blockquote><h3 id="resource中主类启动配置"><a href="#resource中主类启动配置" class="headerlink" title="resource中主类启动配置"></a>resource中主类启动配置</h3><blockquote><p>@SpringBootApplication(scanBasePackages = {“cc.yybk.*”}) 扫描所有依赖 </p></blockquote><h3 id="有个bug类似"><a href="#有个bug类似" class="headerlink" title="有个bug类似"></a>有个bug类似</h3><blockquote><p>笔者创建许多SpringBoot项目 有时候会自动创建一个ServletInitializer的类 但有时候并没有。<br>这个类有什么用？如果没有这个类，曾经尝试使用Jetty启动服务会报错。大概应该兼容各种web容器吧。<br>我决定要把这个类保存在这里 。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cc.yybk.resource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.builder.SpringApplicationBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.support.SpringBootServletInitializer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletInitializer</span> <span class="keyword">extends</span> <span class="title class_">SpringBootServletInitializer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> SpringApplicationBuilder <span class="title function_">configure</span><span class="params">(SpringApplicationBuilder application)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> application.sources(YybkResourceApplication.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Maven一些常用的依赖"><a href="#Maven一些常用的依赖" class="headerlink" title="Maven一些常用的依赖"></a>Maven一些常用的依赖</h3><blockquote><p>笔者每次想用到某些依赖，还要到处去翻，太累了。<br>于是我觉得将一些常用的依赖也记录在这里。<br>如果是微服务，在最大pom中<br>这样子在后续的模块组件中就不用担心版本冲突了<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--在这里管理所有cloud的依赖 保证一致性--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>Hoxton.SR12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>注册中心<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>mysql 和 mybatis<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mysql驱动--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--mybatis-plus的依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!--sql连接池--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.18<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>接口文档(丝袜哥儿)<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--用于访问http://localhost:8080/swagger-ui.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--用于访问http://localhost:8080/doc.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger-bootstrap-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--因为swagger2 是依赖于Google的guava，我本项目中引入的swagger2是最高版本，因此引入下面的jar包，否侧报错“Failed to start bean &#x27;documentationPluginsBootstrapper--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.guava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guava<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>20.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>Jetty服务器<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!--Jetty服务器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jetty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>redis<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--redis依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">&lt;!--Redis连接池--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>mail邮件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mail邮件发送--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>JWT<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jwt依赖--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>其他常用工具包<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--hutool工具包--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.hutool<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hutool-json<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.7.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--StringUtils的依赖--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--HtmlClient--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sourceforge.htmlunit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>htmlunit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.29<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">   <span class="comment">&lt;!--HttpClient--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--爬虫--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jsoup<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsoup<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.11.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--lombok get、set、有参、无参--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>包菜炒鸡蛋粉丝</title>
      <link href="/posts/14347.html"/>
      <url>/posts/14347.html</url>
      
        <content type="html"><![CDATA[<h1 id="包菜炒鸡蛋粉丝的做法"><a href="#包菜炒鸡蛋粉丝的做法" class="headerlink" title="包菜炒鸡蛋粉丝的做法"></a>包菜炒鸡蛋粉丝的做法</h1><p>包菜炒鸡蛋粉丝，是中国的一道日常生活中所熟知的菜品</p><h2 id="必备原料和工具"><a href="#必备原料和工具" class="headerlink" title="必备原料和工具"></a>必备原料和工具</h2><ul><li>包菜</li><li>鸡蛋</li><li>粉丝</li><li>胡萝卜</li><li>菜籽油</li><li>盐、生抽、老抽、蚝油</li><li>葱、蒜、干辣椒</li></ul><h2 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h2><p>每份：</p><ul><li>包菜 半 颗</li><li>鸡蛋 2 个</li><li>粉丝 1 把</li><li>胡萝卜 半 根</li><li>菜籽油 20 ml</li><li>盐 2 g、生抽 15 ml、老抽 10 ml、蚝油 10 ml</li><li>葱 半 根、蒜瓣 2 片、干辣椒 5 根</li></ul><h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><ul><li>胡萝卜、包菜切丝备用</li><li>粉丝先用冷水浸泡 1 小时，然后将粉丝放入锅中，加入开水烧至粉丝烫软捞出备用</li><li>鸡蛋打入碗中，加入盐后搅拌 15 秒</li><li>葱、蒜、辣椒切成小粒备用</li><li>起锅烧油，倒入鸡蛋，打散炒熟盛出</li><li>再倒入油，放入葱、蒜、干辣椒翻炒 8 秒</li><li>下胡萝卜、包菜丝儿翻炒 30 秒</li><li>放入粉丝</li><li>放调料，生抽 15 ml，老抽 10 ml，蚝油 10 ml，盐 2 克</li><li>放入之前炒好的鸡蛋，翻炒约 15 秒</li><li>出锅摆盘</li></ul><details class="folding-tag" cyan><summary> 查看示例菜成品 </summary>              <div class='content'>              <p><img src="https://img.yybk.cc/page/202308232006462.jpg" alt="示例菜成品"></p>              </div>            </details><h2 id="附加内容"><a href="#附加内容" class="headerlink" title="附加内容"></a>附加内容</h2><p>如果您遵循本指南的制作流程而发现有问题或可以改进的流程，请提出 Issue 或 Pull request 。</p>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>白灼菜心</title>
      <link href="/posts/14346.html"/>
      <url>/posts/14346.html</url>
      
        <content type="html"><![CDATA[<h1 id="白灼菜心的做法"><a href="#白灼菜心的做法" class="headerlink" title="白灼菜心的做法"></a>白灼菜心的做法</h1><!-- 标题必须是 `菜名` + `的做法`。和文件名一致。 --><p><img src="https://img.yybk.cc/page/202308232000257.jpg" alt="白灼菜心"></p><blockquote><p>没有拍照，上图是网图，不过做出来都差不多啦</p></blockquote><p>白灼菜心是经典粤菜，白灼是粤菜的一种烹饪技法，用煮沸的水或汤将生的食物烫熟，称为白灼。这种烹饪手法能保持原有的鲜味，粤菜常用此法烹制虾和蔬菜。</p><p>总之吧，减肥或者是<strong>快速解决绿叶菜的绝佳方式</strong>。</p><h2 id="必备原料和工具"><a href="#必备原料和工具" class="headerlink" title="必备原料和工具"></a>必备原料和工具</h2><ul><li>新鲜菜心</li><li>生抽、蚝油、盐</li><li>大蒜、小米辣</li><li>食用油</li></ul><h2 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h2><p>如下的量两个人够吃，一个人吃直接搭配个米饭也可以的。</p><ul><li>新鲜菜心 250g</li><li>食用油 10g</li><li>调一个灵魂料汁儿<ul><li>生抽 5g</li><li>蚝油 5g</li><li>盐、糖 5g</li></ul></li><li>大蒜四五瓣、小米辣一两根</li></ul><h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><ol><li><p>菜心洗净，<strong>去除根部比较硬或老的地方</strong>。此处还用刀刮了<strong>刮菜心根茎部分</strong>，刮掉外面那层比较硬的，菜心内部更可口，但要注意根茎白灼时长，时间太长的话根茎不脆了</p></li><li><p>大蒜切成蒜末，有洋葱顺便加了点洋葱</p></li><li><p>调制灵魂料汁：生抽 5g 吧、蚝油 5g，加 3g 糖和 100g 清水半碗成一碗汁儿</p><blockquote><p>如果要是加淀粉，汤汁儿煮沸后更容易挂在菜心上，味道会更重一些，广东人可能吃不惯</p></blockquote></li><li><p>一锅 500ml 清水加 5g 盐和 10g 食用油烧开</p></li><li><p>将菜心根茎在沸水中烫 1 分钟，直到根茎颜色变成深绿。再将整个菜心放到锅中烫熟 1 分钟，捞起来码入盘中</p></li><li><p>开另一小锅将兑好的料汁倒入，小火烧开，放入一半的蒜末，一点点姜丝和小米椒碎。在制作时加了一点点洋葱碎和大蒜，先在锅底倒油，五成热后倒入蒜末、洋葱，稍稍爆香后再加入料汁，加入小米辣煮开</p></li><li><p>料汁稍微收汁，煮沸后稍等十来秒吧，后直接浇在菜心上，不要特别多，但蒜末还是很给力的不要少蒜</p></li></ol><h2 id="附加内容"><a href="#附加内容" class="headerlink" title="附加内容"></a>附加内容</h2><ul><li>选择菜心一定要比较新鲜！新鲜！</li><li>锅内烧清水要加油和盐</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>拨丝土豆</title>
      <link href="/posts/14345.html"/>
      <url>/posts/14345.html</url>
      
        <content type="html"><![CDATA[<h1 id="拔丝土豆的做法"><a href="#拔丝土豆的做法" class="headerlink" title="拔丝土豆的做法"></a>拔丝土豆的做法</h1><p>拔丝土豆是一道色香味俱全的特色名菜，属于鲁菜系</p><h2 id="必备原料和工具"><a href="#必备原料和工具" class="headerlink" title="必备原料和工具"></a>必备原料和工具</h2><ul><li>土豆</li><li>食用油</li><li>淀粉</li><li>白砂糖</li><li>水</li><li>芝麻</li></ul><h2 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h2><p>每份：</p><ul><li>土豆 2 个</li><li>食用油 300 ml （土豆能浮在油上面即可）</li><li>淀粉 30 g</li><li>白砂糖 120 g （要多放糖，这是为了在土豆上面裹上一层厚厚的糖浆，从而产生拔丝的效果）</li><li>水 100 ml</li><li>芝麻 5 g</li></ul><h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><ul><li>土豆去皮，切均匀的小块。放入淀粉（不加水）搅拌，使得淀粉覆盖土豆表面</li><li>起锅烧油，放入土豆块，缓缓翻滚煎炸 5-7 分钟 ，直至筷子可以插进土豆</li><li>取出土豆，放入大碗备用</li><li>锅中加入水、白砂糖，沿着一个方向慢慢搅动白砂糖，直到白砂糖颜色变成褐色</li><li>重新倒入土豆，翻炒 30 S 后 出锅</li><li>土豆盛盘，散上芝麻</li><li>铛铛~菜就做成了</li></ul><details class="folding-tag" cyan><summary> 查看示例菜成品1 </summary>              <div class='content'>              <p><img src="https://img.yybk.cc/page/202308231947375.jpg" alt="示例菜成品"></p>              </div>            </details><details class="folding-tag" cyan><summary> 查看示例菜成品2 </summary>              <div class='content'>              <p><img src="https://img.yybk.cc/page/202308231948190.jpg" alt="示例菜成品"></p>              </div>            </details><details class="folding-tag" cyan><summary> 查看示例菜成品3 </summary>              <div class='content'>              <p><img src="https://img.yybk.cc/page/202308231949764.jpg" alt="示例菜成品"></p>              </div>            </details><h2 id="附加内容"><a href="#附加内容" class="headerlink" title="附加内容"></a>附加内容</h2><ul><li>土豆煎炸不可太熟透，否则在拔丝端盘时不容易定型，影响美观</li><li>对于使用剩余的食用油，可以考虑重新收集到油壶。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>学习焯水</title>
      <link href="/posts/14339.html"/>
      <url>/posts/14339.html</url>
      
        <content type="html"><![CDATA[<h1 id="焯水"><a href="#焯水" class="headerlink" title="焯水"></a>焯水</h1><p>焯水是做饭的一道工序，读作 chāo shuǐ。</p><p>焯水指将初步加工的原料放在开水锅中加热至半熟或全熟，取出以备进一步烹调或调味。</p><p>焯水是烹调中特别是冷拌菜不可缺少的一道工序。 对菜肴的色、香、味，特别是色起着关键作用。</p><p>大部分蔬菜和带有腥羶气味的肉类原料都需要焯水。</p><h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><h3 id="开水锅焯水"><a href="#开水锅焯水" class="headerlink" title="开水锅焯水"></a>开水锅焯水</h3><p>开水锅焯水，就是将锅内的水加热，然后将原料下锅。下锅后及时翻动，时间要短，不要过火。</p><p>这种方法多用于植物性原料，如：芹菜、菠菜、莴笋等。 焯水时要特别注意火候，时间稍长，颜色就会变淡，而且也不脆、嫩。 因此放入锅内后，水微开时即可捞出晾凉。</p><ul><li>叶类蔬菜原料应先焯水再切片，以免营养成分损失过多。</li><li>焯水时应水宽火旺，以使投入原料后能及时开锅；焯制绿叶蔬菜时，应略滚即捞出。</li><li>蔬菜类原料在焯水后应立即投凉控干，以免因余热而使之变黄、熟烂的现象发生。</li><li>蔬菜焯水可以放入适量色拉油如花生油、玉米油、大豆油以保持翠绿。</li></ul><h3 id="冷水锅焯水"><a href="#冷水锅焯水" class="headerlink" title="冷水锅焯水"></a>冷水锅焯水</h3><p>冷水锅焯水是将原料与冷水同时下锅。 水要没过原料，然后烧开，目的是使原料成熟，便于进一步加工。</p><p>土豆、胡萝卜等因体积大，不易成熟，需要煮的时间长一些。</p><p>有些动物性原料，如：白肉、牛百页、牛肚领等，也是冷水下锅加热成熟后再进一步加工的。有些用于煮汤的动物性原料也要冷水下锅，在加热过程中使营养物质逐渐溢出，使汤味鲜美，如用热水锅，则会造成蛋白质凝固。</p><ul><li>锅内的加水量不宜过多，以淹没原料为度。</li><li>在逐渐加热过程中，必须对原料勤翻动，以使原料受热均匀，达到焯水的目的。</li></ul><h2 id="额外注意事项"><a href="#额外注意事项" class="headerlink" title="额外注意事项"></a>额外注意事项</h2><ul><li>焯水有时也会使原料内的一些不稳定、可溶性营养物质溢出，特别是新鲜蔬菜中的水溶性维生素更容易受到损失</li><li>动物类原料与植物类原料要分别焯水；色味较重的与色味较轻的要分别焯水；块状大的要与块状小的分别焯水，以防彼此串味</li><li>焯制动物性原料后，汤汁可在撇沫澄清后作为鲜汤使用</li></ul><h3 id="肉的焯水"><a href="#肉的焯水" class="headerlink" title="肉的焯水"></a>肉的焯水</h3><ul><li>肉类原料经过开水焯过后变色即可，捞出沥干水分后可以进行下一步的烹调。</li><li>肉类焯水后需要洗去沾附的血沫污渍，记得用温水清洗，否则肉热胀冷缩会吸附污渍，导致无法洗净血沫。</li></ul><h3 id="青菜的焯水"><a href="#青菜的焯水" class="headerlink" title="青菜的焯水"></a>青菜的焯水</h3><ul><li>洗青菜时，在清水里撒一些盐，这样可以把青菜里的虫子清洗出来</li><li>焯过后的青菜应立即浸入冷水中，以保持颜色和口感。如果不用冷水浸，青菜会因为开水的余温变的不再清脆，而出现烂烂的感觉</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>学习炒与煎</title>
      <link href="/posts/14340.html"/>
      <url>/posts/14340.html</url>
      
        <content type="html"><![CDATA[<h1 id="炒-煎"><a href="#炒-煎" class="headerlink" title="炒/煎"></a>炒/煎</h1><h2 id="器具"><a href="#器具" class="headerlink" title="器具"></a>器具</h2><p>可使用普通金属制（铁/不锈钢/铝）炒/煎锅或不粘锅。</p><p>不建议使用铝制容器, 原因详见食品安全一节</p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>使用普通锅炒菜不粘的方法：</li></ul><h4 id="先炒鸡蛋法"><a href="#先炒鸡蛋法" class="headerlink" title="先炒鸡蛋法"></a>先炒鸡蛋法</h4><ul><li>不管炒什么菜之前都炒个鸡蛋，炒完不刷锅，再炒下个菜时就不粘。</li></ul><h4 id="热锅凉油法"><a href="#热锅凉油法" class="headerlink" title="热锅凉油法"></a>热锅凉油法</h4><ul><li>记住一定要是热锅凉油，首先热锅<ul><li>干净的锅什么都不放，干烧，使其受热均匀，烧热</li><li>放入凉油，旋转锅子，使油沾满整个锅（可以来回旋转使其受热均匀）</li><li>看到有气体从锅中发出时，就表示锅子的油已经烧热了</li><li>把油倒出来，倒出来后不要刷锅</li><li>可以重复上述步骤 2-3 遍以得到更好的不粘效果</li><li>注意：如果是燃气，可能会喷火，注意安全</li></ul></li></ul><h4 id="热锅双油法"><a href="#热锅双油法" class="headerlink" title="热锅双油法"></a>热锅双油法</h4><ul><li>首先热锅<ul><li>干净的锅什么都不放，干烧，使其受热均匀，烧热</li><li>放入“少量凉油”，旋转锅子，使油沾满整个锅（可以来回旋转使其受热均匀）</li><li>看到有气体从锅中发出时，就表示锅子的油已经烧热了</li><li>再继续放入凉油，开始炒菜</li><li>注意：如果是燃气，可能会喷火，注意安全。</li></ul></li></ul><p>补充：</p><ul><li>目的是使油挂满锅底，所有市面上的家用锅都适用，挂油后秒变不粘锅。</li><li>使用不粘锅煎炒食物不会粘锅。不粘锅的功能来源于其内壁上的涂层。<strong>金属锅铲会划伤涂层。使用不粘锅时应使用木制或硅胶锅铲以避免损坏涂层。</strong></li></ul><h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><p>开火——直接将锅平放于火上，烧热——将油倒入锅中，烧热——放入菜品，翻炒——出锅前记得放调料</p><h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>判断锅/油是否烧热时，可将手平放于锅的上方感受热量；油热后方可放入食材。</li><li>倒油入锅前，务必确认锅的内部没有残余水份。<strong>水会导致热油飞溅，造成危险。</strong></li><li>接上条，食材放入油锅前，应当沥干水份（蛋液没事）；同理，不可将未解冻的食材放入油锅，以免冰化后造成危险。</li><li><strong>若油锅起火，切不可倒水灭火</strong>。这样做会使火势扩大。火刚起时，可迅速关火，盖上锅盖。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>学习凉拌</title>
      <link href="/posts/14341.html"/>
      <url>/posts/14341.html</url>
      
        <content type="html"><![CDATA[<h1 id="凉拌"><a href="#凉拌" class="headerlink" title="凉拌"></a>凉拌</h1><h2 id="凉拌是什么"><a href="#凉拌是什么" class="headerlink" title="凉拌是什么"></a>凉拌是什么</h2><p>凉拌是一种将主食材与辅料通过搅拌混合以成菜的方式</p><h3 id="凉拌的形态"><a href="#凉拌的形态" class="headerlink" title="凉拌的形态"></a>凉拌的形态</h3><p>凉拌可做成食材与辅料在空间上交混的形态<br>凉拌可做成食材与辅料在空间上分立的形态，此时辅料被称为蘸料</p><h3 id="为什么凉拌"><a href="#为什么凉拌" class="headerlink" title="为什么凉拌"></a>为什么凉拌</h3><ul><li>部分凉拌成菜时不需要热源</li><li>部分凉拌能减少洗锅的流程（不洗或仅过水即可）</li><li>凉拌能保留食材状态，此点特别展现在蔬菜、生肉上</li></ul><h3 id="凉拌的目的"><a href="#凉拌的目的" class="headerlink" title="凉拌的目的"></a>凉拌的目的</h3><ul><li>凉拌的目的在于对无味或味淡食材添加味道，例如鸡肋</li></ul><h3 id="凉拌能放什么"><a href="#凉拌能放什么" class="headerlink" title="凉拌能放什么"></a>凉拌能放什么</h3><p>包括但不限于：</p><ul><li>主食材</li><li>辅料</li><li>腌制酱料</li><li>调味料</li></ul><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>凉拌时应该注意食材安全，在不确认食材是否安全时，请勿凉拌对应食材，在确认食材不安全时不应凉拌对应食材</li><li>凉拌应尽可能加大主食菜的接触面积，故凉拌时推荐刀花、切片、拍碎甚至搅碎</li><li>凉拌菜对肠胃提出了基本要求，请在确认不会喷射或存有喷射时间时采用凉拌</li><li>文件撰写时处于新冠疫情状态下，建议将所有食材均在 100 摄氏度以上的环境中加热 15 秒以上以图心理安慰，若想求得安全请尽量避免凉拌</li></ul><h2 id="器具"><a href="#器具" class="headerlink" title="器具"></a>器具</h2><p>可以使用任何容器，从瓷缸到食品级塑料袋均可</p><h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>为方便搅拌时食材不溅出，使用容积在所有食材两倍以上的硬质容器较为合适</li><li>为保证食品安全，在塑料袋或塑料碗中腌制后请尽快将食材移至瓷容器或金属质容器中</li><li>为保证食品安全，请在洁净的砧板上处理生食食材与辅料</li></ul><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><h3 id="片状蔬菜类主食材加工（此流程可选）（选项单选或多选）"><a href="#片状蔬菜类主食材加工（此流程可选）（选项单选或多选）" class="headerlink" title="片状蔬菜类主食材加工（此流程可选）（选项单选或多选）"></a>片状蔬菜类主食材加工（此流程可选）（选项单选或多选）</h3><p>用例：包菜、生菜、白菜心、洋葱等</p><ul><li>将食材撕碎为 4cm * 4cm 的小块</li><li>将食材切成 0.5cm 长的条状</li><li>将食材裁去不使用部分后整片使用</li><li>将处理后的食材焯水</li></ul><h4 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h4><p>对部分食材可不用剥开，直接延轴线给刀后垂直轴线切段即可，对刀法有信心者可直接垂直轴线切段</p><h3 id="块状蔬菜类主食材加工（此流程可选）（选项单选或多选）"><a href="#块状蔬菜类主食材加工（此流程可选）（选项单选或多选）" class="headerlink" title="块状蔬菜类主食材加工（此流程可选）（选项单选或多选）"></a>块状蔬菜类主食材加工（此流程可选）（选项单选或多选）</h3><p>用例：马铃薯，荸荠，黄瓜、土豆等</p><ul><li>将食材切成 0.5cm * 0.5cm 截面长条状</li><li>将食材切成厚度小于 0.5cm 的 4cm * 4cm 片状</li><li>将食材用刀面拍碎或压碎（犹适用于黄瓜）</li><li>将食材直接使用（犹适用于本身为小块的食材）</li><li>将处理后的食材焯水</li></ul><h4 id="注意事项-3"><a href="#注意事项-3" class="headerlink" title="注意事项"></a>注意事项</h4><p>对食材使用拍碎时可能导致食材飞溅，可以使用食品级塑料袋包裹后拍碎</p><h3 id="块状菌类主食菜加工（此流程可选）（选项单选或多选）"><a href="#块状菌类主食菜加工（此流程可选）（选项单选或多选）" class="headerlink" title="块状菌类主食菜加工（此流程可选）（选项单选或多选）"></a>块状菌类主食菜加工（此流程可选）（选项单选或多选）</h3><p>用例：各类蘑菇、各类木耳等</p><ul><li>将食材泡发</li><li>将食材切成 0.5cm * 0.5cm 截面长条状</li><li>将食材切成厚度小于 0.5cm 的 4cm * 4cm 片状</li><li>将食材直接使用（犹适用于本身为小块的食材）</li><li>将处理后的食材焯水</li></ul><h4 id="注意事项-4"><a href="#注意事项-4" class="headerlink" title="注意事项"></a>注意事项</h4><p>所有菌类需要严格确认安全，板板上一躺就啥都没了</p><h3 id="块状肉类主食菜加工（此流程可选）（选项单选或多选）"><a href="#块状肉类主食菜加工（此流程可选）（选项单选或多选）" class="headerlink" title="块状肉类主食菜加工（此流程可选）（选项单选或多选）"></a>块状肉类主食菜加工（此流程可选）（选项单选或多选）</h3><p>用例：鱼肉、海蜇头、熟猪肉、熟禽类等</p><ul><li>将食材通过蒸煮烤炸等方式熟制</li><li>将食材在凉水中泡上些许时间（犹适用于海产）</li><li>将食材撕成肉条</li><li>将食材切成薄片（犹适用于煮熟后的猪肉）</li><li>将食材切成 0.8cm * 0.8cm 截面长条状</li><li>将食材直接按部位撕碎或切大块（犹适用于整只熟禽）</li></ul><h4 id="注意事项-5"><a href="#注意事项-5" class="headerlink" title="注意事项"></a>注意事项</h4><ul><li>猪肉与禽肉没有例外，必须十成熟，必须完全熟制，必须不见任何血水</li><li>部分牛肉、鱼肉、海鲜类在确认安全后可生食</li></ul><h3 id="俺寻思这个也成类食材加工（此流程尽可能不选）（选项必选）"><a href="#俺寻思这个也成类食材加工（此流程尽可能不选）（选项必选）" class="headerlink" title="俺寻思这个也成类食材加工（此流程尽可能不选）（选项必选）"></a>俺寻思这个也成类食材加工（此流程尽可能不选）（选项必选）</h3><p>用例：面条、米饭、果类、嫩树叶等</p><ul><li>确认食材安全</li><li>将食材处理成可食用状态</li><li>将食材处理成可搅拌状态</li></ul><h4 id="注意事项-6"><a href="#注意事项-6" class="headerlink" title="注意事项"></a>注意事项</h4><ul><li>请确认食材安全，可以将少量食材搅碎后在上臂糊上 30 分钟以检测过敏反应，有异常情况必须弃用</li><li>大多数树叶、青草含有会令人不适的成分，即使在熟制后依然如此，请确认安全</li><li>大多数谷类在熟制前不利于消化吸收，可能对肠胃产生不良影响</li></ul><h3 id="辅料加工（此流程可选）（选项单选或多选）"><a href="#辅料加工（此流程可选）（选项单选或多选）" class="headerlink" title="辅料加工（此流程可选）（选项单选或多选）"></a>辅料加工（此流程可选）（选项单选或多选）</h3><p>用例：指天椒、蒜瓣、生姜、干辣椒等</p><ul><li>将指天椒去蒂，洗净后切去蒂端 0.5cm 长部分后切碎或切段</li><li>将蒜瓣拍碎后去皮，切去蒂端 0.5cm 长部分后切碎或切段</li><li>将生姜去皮后切碎或切丝或切片</li><li>将干辣椒碾碎</li><li>将准备好的食材装入小碗或即将用于搅拌的容器中</li><li>在容器中加入：各类粉剂、调味料或腌制酱料，搅拌均匀</li></ul><h4 id="注意事项-7"><a href="#注意事项-7" class="headerlink" title="注意事项"></a>注意事项</h4><ul><li>辅料的种类，加工，方法极为宽泛，请不要局限您的思维，但请小心求证，适度适量，谨记安全</li></ul><h3 id="混合食材（此流程可选）（选项单选或多选）"><a href="#混合食材（此流程可选）（选项单选或多选）" class="headerlink" title="混合食材（此流程可选）（选项单选或多选）"></a>混合食材（此流程可选）（选项单选或多选）</h3><ul><li>将含水量高的肉类食材挤出水分后滤干</li><li>将含水量高的蔬菜类食材放入容器中加入约 200g ： 5g 的盐并搅拌后静置 5 分钟，将水分滤干</li><li>将食材与辅料加入搅拌容器</li><li>用筷子、勺子或手洗净后搅拌</li><li>将容器密封后摇晃均匀</li><li>将容器倾斜至不会有材料洒出的角度，以轴心为轴旋转容器</li></ul><h4 id="注意事项-8"><a href="#注意事项-8" class="headerlink" title="注意事项"></a>注意事项</h4><ul><li>含水量高的食材直接在加入后可能析出过多水分淡化调料</li><li>搅拌时发现水量不足或搅拌不匀可适量加白开水，若无法确定用量每次 15mL 为佳</li><li>部分吸水率高的食材不建议搅拌，可能导致腌制后的食材味道过重</li></ul><h3 id="食用（此流程必选）"><a href="#食用（此流程必选）" class="headerlink" title="食用（此流程必选）"></a>食用（此流程必选）</h3><ul><li>将搅拌后的食材直接食用</li><li>将未搅拌的主食材蘸取蘸料后食用</li><li>将食材与蘸料加入主食中食用</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>学习腌</title>
      <link href="/posts/14342.html"/>
      <url>/posts/14342.html</url>
      
        <content type="html"><![CDATA[<h1 id="腌（肉）"><a href="#腌（肉）" class="headerlink" title="腌（肉）"></a>腌（肉）</h1><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>此处所描述的腌渍是食材烹饪前处理的步骤，并非制作咸肉或腌制香肠等成品</p><h2 id="腌渍"><a href="#腌渍" class="headerlink" title="腌渍"></a>腌渍</h2><p>在烹饪前腌制肉类是让肉类预先入味的常用方法。一般腌渍的对象是生肉。根据菜品的需求，可以自行确定肉类改刀的大小。</p><p>  例如炸鸡米花，鸡胸肉是在改刀为骰子大小的小块后放入碗中腌渍<br>  例如烤全羊，羊腿，半扇或整扇羊肉不必改刀即可用大量调味料涂抹在表面从而腌渍入味</p><p>根据菜品的不同，腌渍所选的调味料、辅料可以是任何种类。有时候为了不同的口味，辅料也可能需要预先处理。</p><h2 id="腌渍基本概念"><a href="#腌渍基本概念" class="headerlink" title="腌渍基本概念"></a>腌渍基本概念</h2><p>此处介绍的是正常口味的腌渍过程。</p><ul><li>一般来说，肉量越大（比如一次性腌渍 5kg 鸡翅），体积越大（比如一整个羊腿），口味越重，则需要调味料和辅料越多</li><li>一般来说，计划腌渍的时间越长，使用的调味料和辅料越少</li><li>腌渍时应使用料均匀覆盖在所有的表面。如果是肉片、肉丝，应该用手尽量抓匀、搅匀。如果是整个羊腿，应该用手或刷子在表面刷匀</li><li>一般炒肉、炸肉需要提前腌渍。炒肉应该保证肉鲜嫩的口感，烹调往往需要大火且时间较短。短时间烹饪不容易入味时，提前腌渍就能弥补口味的不足</li></ul><h2 id="腌渍手法"><a href="#腌渍手法" class="headerlink" title="腌渍手法"></a>腌渍手法</h2><ul><li>细肉丝、薄肉片：由于肉质较脆弱，需要尽量轻柔。手指呈娃娃机钳子的形状，轻微抓匀腌料。然后向一个方向轻轻搅匀即可</li><li>肉丝、肉片、肉块：手法同上，但是力量可以稍大</li><li>鸡腿、鸡翅等大小：先在食材上改几道花刀。鸡翅根、鸡腿可以用刀扎对穿孔。然后先在碗里混合好腌料，在把食材放入料碗中裹匀</li><li>羊腿等大小：一般可以在肉较厚的位置扎对穿孔。然后腌料混合好后均匀涂抹在食材表面</li></ul><h2 id="腌渍容器及时间"><a href="#腌渍容器及时间" class="headerlink" title="腌渍容器及时间"></a>腌渍容器及时间</h2><ul><li>选择能装下食材和腌料的容器即可。包括碗、盘子、托盘等。此时是开口腌渍，一般时间较短，常见 0.5-2 小时的腌渍时间。（烤）羊腿等也可以如此腌渍，但时间较长</li><li>可以选择足够大的食品密封袋腌渍。此时是封口腌渍，一般时间很长，例如隔夜腌渍，或腌渍不易入味的排骨等。常见 4 小时-隔夜。此时用料要稍微减少，防止成菜口感太重太咸</li></ul><h2 id="常用的腌渍用料"><a href="#常用的腌渍用料" class="headerlink" title="常用的腌渍用料"></a>常用的腌渍用料</h2><ul><li>生抽：调酱香且带有咸味的底味。可用于几乎所有肉类</li><li>老抽：咸味并不强烈，但是易于染色。用于调底色和增香。一般不应大量使用防止产生豆腥味。可用于几乎所有红肉类（较少用），猪肝等可以多加</li><li>食盐：咸味但炒制后不带有酱香味。可用于所有肉类</li><li>白（砂）糖：调甜味（量大），也可以为肉增加鲜嫩的口感（量少）。可用于所有禽畜类肉类，但鱼类和海鲜并不常用。</li><li>红糖：调甜味和红糖特有的口感，口味比白糖略重。可用于几乎所有肉类（一般肉色较深或者成菜颜色较深）</li><li>蚝油：增加鲜、咸、甜的口味。一般用于红肉</li><li>白醋/米醋：增加酸的口味。较少使用</li><li>陈醋/香醋：不仅带有酸的口味，还能为菜品增香增色。香醋比较适合深色鱼类（尤其是烤鱼）</li><li>料酒：去腥增香。可用于几乎所有肉类。但是使用需要注意：<ul><li>料酒本身的味道很浓，很容易掩盖食材本身的香味，对于腥味不浓郁的食材，可以考虑不用料酒来去腥。例如：牛肉，鱼肉和鸡肉。</li><li>对于鸡肉，可以用白酒去代替料酒。</li><li>对于牛肉，可以用姜葱水代替料酒。</li><li>对于白色鱼肉，只需要清洗干净血丝和粘膜就不会有什么腥味了，建议不加料酒。</li></ul></li><li>黄酒：去腥增香，效果比料酒更好，香味比料酒更复杂。一般用于白肉类。红肉也可用，但是效果与料酒相当。</li><li>五香粉/十三香：为肉类增加香味，是最简单的复合香料。五香粉仅仅增加香味，十三香的香味比较独特，有辨识度。用此类香料腌渍应该控制用量。可用于几乎所有肉类，但鱼类和海鲜不常用</li><li>辣椒粉：辣椒粉分为很多种。不谈辣椒的种类，从研磨精细度划分有辣椒粉/辣椒面，辣椒碎等。除了为肉类增加辣味，还能为成菜配色。用辣椒腌渍的菜品应该避免辣椒过量。可用于几乎所有需要辣味底味的肉类，但烹调时间应该略加控制，防止辣椒味道变苦，或者颜色变深</li><li>孜然粉、小茴香粉：一般用磨粉作为腌料，不用颗粒，这样可以使肉类更容易入味。可用于几乎所有红肉和鸡肉</li><li>X 椒粉：为肉类增加辛、辣、香、呛的口味。使用应该适量，防止盖过其他口味<ul><li>黑胡椒粉：口味辛、辣。可用于几乎所有红肉</li><li>白胡椒粉：口味辛、香。比黑胡椒略弱，突出香味。可用于几乎所有肉类</li><li>花椒粉：口味辛、呛。有花椒特殊的香味，比较有辨识度。可用于几乎所有肉类</li></ul></li><li>豆瓣酱：为肉类增加豆类的酱香和咸味、辣味。可用于几乎所有红肉类</li><li>葱姜蒜：葱姜去腥增香，去除异味；蒜增加辛香味。葱可根据需要切段或者切片；姜一般切片，有些场景需要去皮；蒜可切片或切碎。葱姜不想出现在成菜中，或者口味需要较轻，可以将葱姜块放于有极少量清水的碗里挤压出汁，用葱姜水腌渍肉类。蒜一般不直接加入。可用于所有肉类</li><li>海鲜酱、虾酱等：为肉类增加鲜、咸味。海鲜酱口味偏甜，虾酱口味偏重。可用于几乎所有肉类，但使用场景不多</li><li>豆豉：为肉类增加发酵豆类的香味和咸味。可用于几乎所有红肉类，但是使用的并不多</li><li>生粉：即为淀粉。生粉是上浆的重要腌料。上浆越厚，或者需要口感越滑嫩，需要的生粉越多。可用于几乎所有肉类。<code>生粉可作为简易的油炸外衣使用（一般根据需要还需加入面粉等），此时一般不在腌渍时加入</code><ul><li>玉米淀粉、土豆淀粉：粘性一般最大</li><li>红薯淀粉：粘性略低</li></ul></li><li>油：在腌渍时加入适量油进行油封，可以锁住水分和风味。如使用开口容器腌渍，且时间较长（例如在碗里），油封能极大程度保证肉质不变干或变柴。可用于几乎所有肉类。油封后炒制应略微减少底油，油炸则没有区别</li></ul><h2 id="几种较为通用的腌渍公式"><a href="#几种较为通用的腌渍公式" class="headerlink" title="几种较为通用的腌渍公式"></a>几种较为通用的腌渍公式</h2><ul><li>牛肉：使用适量生抽，少量料酒，少量白砂糖腌渍。根据口味选用食盐（补充咸味），蚝油和极少量海鲜酱（蚝油牛肉），五香粉/十三香（洋葱炒牛肉）。慎用葱姜</li><li>鸡肉（包括鸡胸肉和鸡翅）：使用适量生抽，较少量白砂糖，少量料酒腌渍。根据口味选用食盐（补充咸味），五香粉/十三香（炸鸡米花），极少量老抽（香煎鸡翅中）</li><li>白色鱼肉：使用适量食盐，少量料酒/黄酒腌渍。根据口味选用海鲜酱/海鲜酱油/蒸鱼豉油（香煎带鱼），葱姜（水）（烤带皮鱼肉）</li><li>红色鱼肉：使用适量生抽，少量料酒腌渍。根据口味选用海鲜酱油/少量蒸鱼豉油（香煎三文鱼），红糖（北欧香烤三文鱼）</li><li>猪肝：使用适量生抽，适量料酒腌渍。根据口味选用生粉和适量老抽（滑炒猪肝），少量糖等</li></ul><h2 id="菜品实战示例"><a href="#菜品实战示例" class="headerlink" title="菜品实战示例"></a>菜品实战示例</h2><ul><li><p>洋葱炒牛肉：以一人份的 150g 牛肉为例。牛肉应切片，成菜口感应嫩滑，需炒制</p><ul><li>生抽 10ml（约 2 汤匙）</li><li>料酒 5ml（约 1 汤匙）</li><li>白砂糖 2.5-10g（约 1-4 茶匙，根据口味甜度选择）</li><li>孜然粉 5g（约 2 茶匙）</li><li>生粉 10-15g（约 1 小把）</li><li>油 10ml（约 2 汤匙）</li><li>（可选）十三香 1g（约 0.5 茶匙）</li><li>（可选）黑胡椒粉 1g（约 0.5 茶匙）</li></ul></li><li><p>蚝油牛肉：以一人份的 150g 牛肉为例。牛肉应切片，成菜口感应嫩滑且上浆感足，此菜口感偏甜，需炒制</p><ul><li>生抽 5ml（约 1 汤匙）</li><li>料酒 5ml（约 1 汤匙）</li><li>蚝油 10-20ml（约 2-4 汤匙，根据口味咸度选择，蚝油比较咸）</li><li>白砂糖 5-15g（约 2-6 茶匙，根据口味甜度选择）</li><li>生粉 25-35g（约 1 大把）</li><li>油 10ml（约 2 汤匙）</li></ul></li><li><p>五香盐酥鸡：以一人份的 150g 鸡胸肉为例。鸡肉应切成骰子形状，需炸制</p><ul><li>生抽 10ml（约 2 汤匙）</li><li>料酒 2.5ml（约 0.5 汤匙）</li><li>五香粉 5g（约 2 茶匙）或十三香 2.5-5g（约 1-2 茶匙）</li><li>（可选）孜然粉 1g（约 0.5 茶匙）</li><li>（可选）白胡椒粉 1g（约 0.5 茶匙）</li></ul></li><li><p>蜜汁烤鸡翅：以一人份的 250g 带骨鸡翅中为例。鸡翅上应切几道花刀，成菜咸甜，但突出甜口，需烤制</p><ul><li>生抽 10ml（约 2 汤匙）</li><li>料酒 2.5ml（约 0.5 汤匙）</li><li>白砂糖 5-15g（约 2-6 茶匙，根据口味甜度选择）</li><li>蜂蜜/糖浆 10-20ml（约 2-4 汤匙，根据口味甜度选择。如白砂糖超过或等于 10g，建议只加入 10ml）</li><li>（可选）五香粉 2.5g（约 1 茶匙。不可用十三香）</li></ul></li><li><p>香烤三文鱼：以一人份的 200g 去骨三文鱼排为例。鱼肉不应改刀，需烤箱烤制</p><ul><li>生抽 10ml（约 2 汤匙）</li><li>料酒 2.5ml（约 0.5 汤匙）</li><li>红糖 10-20g（约 4-8 茶匙，根据口味甜度选择）</li><li>意大利黑醋/镇江香醋 2.5-5ml（约 0.5-1 汤匙，根据口味酸度选择）</li><li>肉豆蔻粉 2.5g（约 1 茶匙）</li><li>百里香粉 1g（约 0.5 茶匙）</li><li>姜粉 1g（约 0.5 茶匙）</li><li>迷迭香粉 1-2g（约 0.5-1 茶匙）</li><li>（可选）白胡椒粉 1g（约 0.5 茶匙）</li><li>（可选）干辣椒碎 2.5-10g（约 1-4 茶匙，根据口味辣度选择）</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>学习蒸</title>
      <link href="/posts/14343.html"/>
      <url>/posts/14343.html</url>
      
        <content type="html"><![CDATA[<h1 id="蒸"><a href="#蒸" class="headerlink" title="蒸"></a>蒸</h1><h2 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h2><h3 id="蒸锅"><a href="#蒸锅" class="headerlink" title="蒸锅"></a>蒸锅</h3><p>蒸锅为多层结构，最底部用于盛水，利用水开后产生的水蒸气的热量，加热上层食物。</p><p>蒸锅最底层加入适量水——将食物放于上层蒸屉中——蒸锅放于火上加热</p><h3 id="铁锅"><a href="#铁锅" class="headerlink" title="铁锅"></a>铁锅</h3><p>如果没有蒸锅，只有普通的铁锅（非平底锅），可以在锅底放置一个三脚架，并注入足够的水，以此达到类似于蒸锅的效果。</p><p>铁锅底部加入足量水———放入三脚架———将食物置于三脚架上———开火关盖</p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>由于热源为水蒸气，较低的蒸屉中的食物底部可能被水浸湿。可将蒸笼布放在食物底下以避免这种情况。用筷子搭个放食物的简易支架也可以。</li><li>可以利用智能设备设置计时器，提醒关火，以防忘记以致烧干。</li><li>在使用蒸笼制作食品的过程中，需要注意底部区域的剩余水量，<strong>特别是铁锅</strong>，避免干锅从而造成安全问题。</li><li>（可选）使用铁锅蒸食物时，可以在三脚架上面放置一个<a href="./pic/蒸盘.jpg">蒸盘</a>。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>学习煮</title>
      <link href="/posts/14344.html"/>
      <url>/posts/14344.html</url>
      
        <content type="html"><![CDATA[<h1 id="煮"><a href="#煮" class="headerlink" title="煮"></a>煮</h1><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p>倒水入锅——开火，将锅放于火上加热——水开（水翻滚，有大量气泡冒出）后放入食材</p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>加热时盖上锅盖可以加快受热。<strong>但这样做有溢锅的风险</strong>。持续加热后，过渡翻腾的流体可能会冒出锅外，这就是溢锅。</li><li><strong>若即将溢锅，立刻关小火并打开锅盖即可。</strong></li><li>想要加快受热又避免溢锅，可以半开锅盖，留出气体出口；也可在后期关小火，并时时注意锅中情况。</li><li>根据烹饪需要，食材也可冷水下锅。不过这样水烧开需要的时间更久。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>微波炉</title>
      <link href="/posts/14338.html"/>
      <url>/posts/14338.html</url>
      
        <content type="html"><![CDATA[<h1 id="使用微波炉"><a href="#使用微波炉" class="headerlink" title="使用微波炉"></a>使用微波炉</h1><h2 id="什么是微波炉"><a href="#什么是微波炉" class="headerlink" title="什么是微波炉"></a>什么是微波炉</h2><p>微波炉是 1945 年由 <a href="https://en.wikipedia.org/wiki/Percy_Spencer">珀西·勒巴朗·斯宾塞</a> 发明的。</p><p>他在担任雷达系统工程师时，由于发现雷达一开启他口袋里的巧克力棒就开始融化，从而产生构想并发明的。</p><h3 id="工作方式"><a href="#工作方式" class="headerlink" title="工作方式"></a>工作方式</h3><p>微波时通过磁控管制造的频率 24.5 亿赫兹的电磁波，这个频率会使水和油的分子振动并发热。</p><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p>微波炉在很多烹饪任务中效果相当出色。</p><p>强火适用于：</p><ul><li>[烹煮] 烹煮蔬菜</li><li>[烹煮] 软化含水率高的硬质蔬菜（如马铃薯、洋葱和朝鲜蓟）</li><li>[膨化] 爆点心，如泡芙、印度帕帕达姆薄脆饼、爆米花</li></ul><p>中火适用于：</p><ul><li>[烹煮] 海鲜 （例如 <a href="../../dishes/aquatic/微波葱姜黑鳕鱼.md">微波葱姜黑鳕鱼</a>）</li><li>[烹煮] 软化肉类</li><li>[脱水] 干燥蔬果皮</li><li>[脱水] 制作肉干</li><li>[炸] 炸脆香料植物</li><li>[炸] 软化叶类蔬菜</li><li>[加热] 加热剩菜</li></ul><p>弱火用于：</p><ul><li>[解冻] 解冻食物</li><li>[解冻] 融化黄油和巧克力</li></ul><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>微波炉不应该被用于加热水，这可能会致其暴沸，对您的人身安全造成一定影响</li><li>绝对不要使用微波炉加热鸡蛋！(无论是生的还是熟的）</li><li>不管您是出于什么目的，即使您很好奇，也不应该使用微波炉加热完整的水果（如 葡萄、蓝莓、圣女果），这可能会使其爆炸</li><li>由于微波的波长为 12.2 cm，因此微波炉加热小物体的速度要比大物体慢。因此如果是很小的食材，建议聚集在一起进行加热。</li><li>微波仅能深入食物几厘米，因此有时候外部很烫了，内部可能还是冰凉的。解决办法是将食材加上少量液体放进密封袋，或放入碗中后蒙上保鲜膜，让容器内产生足够的蒸汽来弥补微波炉容易烹饪不均的缺点。<ul><li>tips：打开密封袋时，当心蒸汽喷出</li></ul></li><li>微波只能加热水和油等含有液体分子的物体，因此保鲜膜和密封袋都不会被微波加热。</li><li>金属能够反射微波而不会被加热，请避免使用含有金边、金属花纹的容器，避免受热不均导致容器破裂。请务必使用瓷、玻璃容器或微波炉专用烤盘。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>食品安全</title>
      <link href="/posts/14336.html"/>
      <url>/posts/14336.html</url>
      
        <content type="html"><![CDATA[<h1 id="食品安全"><a href="#食品安全" class="headerlink" title="食品安全"></a>食品安全</h1><h2 id="中毒"><a href="#中毒" class="headerlink" title="中毒"></a>中毒</h2><p>以下食物有造成中毒的风险：</p><ul><li>未成熟的青西红柿</li><li>未熟透的四季豆（芸豆）、豇豆（豆角）、<a href="https://zh.wikipedia.org/wiki/%E7%99%BD%E5%88%80%E8%B1%86">白刀豆</a></li><li>发芽的土豆（山药）、番薯（红薯）、花生</li><li>未正确处理/未熟透的<a href="https://zh.m.wikipedia.org/wiki/%E9%BB%84%E8%8A%B1%E8%8F%9C">黄花菜</a>可导致<a href="https://zh.m.wikipedia.org/wiki/%E7%A7%8B%E6%B0%B4%E4%BB%99%E7%B4%A0">秋水仙素</a>中毒</li><li>生豆浆</li><li>泡发时间过长的木耳</li><li>未烹饪熟的动物内脏</li><li>不认识的蘑菇或者未煮熟的蘑菇（有句谚语说：红伞伞，白杆杆，吃完一起躺板板。一般来说，越是漂亮的蘑菇越危险。）</li><li>……（欢迎补充）</li></ul><p>酸性食物在铝制容器中较长时间储存&amp;烹饪同样也会有造成中毒的风险, 如</p><ul><li>酸菜</li><li>笋干</li><li>番茄酱</li><li>柠檬汁</li><li>卤肉</li><li>酱油和酱菜</li><li>……（欢迎补充）</li></ul><h2 id="过敏"><a href="#过敏" class="headerlink" title="过敏"></a>过敏</h2><p>以下为常见过敏食物：</p><p>成人：</p><ul><li>虾、蟹、贝类海鲜</li><li>花生</li><li>坚果</li><li>鱼类</li></ul><p>儿童：</p><ul><li>花生</li><li>坚果</li><li>蛋类</li><li>牛奶</li><li>小麦和大豆</li></ul><h2 id="沙门氏菌感染"><a href="#沙门氏菌感染" class="headerlink" title="沙门氏菌感染"></a>沙门氏菌感染</h2><p>沙门氏菌较常见于动物源性食物，包括蔬菜也可能因受粪便污染而含有沙门氏菌。</p><p>下列食品有造成沙门氏菌感染的风险：</p><ul><li>未完全煮熟的蛋</li><li>未完全煮熟的肉</li><li>未经过杀菌的奶</li></ul><h2 id="黄曲霉素"><a href="#黄曲霉素" class="headerlink" title="黄曲霉素"></a>黄曲霉素</h2><p>黄曲霉素常由黄曲霉及寄生曲霉等另外几种霉菌在霉变的谷物中产生，如大米、豆类、花生等，是目前为止最强的致癌物质。加热至 280℃以上才开始分解，所以一般的加热不易破坏其结构。</p><p>下列食品有造成黄曲霉素中毒的风险：</p><ul><li>腐坏的花生</li><li>腐坏的大米</li><li>腐坏的玉米</li></ul><p>注意，以上食品还包括其对应制品，如米粉、玉米面； 经安全培育生产的花生苗（发芽花生）可以认为安全可食用。</p><h2 id="寄生虫"><a href="#寄生虫" class="headerlink" title="寄生虫"></a>寄生虫</h2><p>寄生虫可通过空气，饮用水，食物和直接接触进入人体。若寄生虫进入人体循环系统，一方面可以攻击白细胞，另一方面可达肺、肝等脏器或是堵塞血管或淋巴管道，会引起如肝硬化、门脉高压、象皮病等疾病。而人如果是猪肉绦虫的中间宿主，寄生虫甚至会达眼球、心脏和大脑，危及生命。</p><p>下列食品最好确保完全烧熟，否则可能在体内留下相应的寄生虫：</p><ul><li>田螺：管圆线虫</li><li>生鱼片：肝吸虫</li><li>黄鳝：颚口线虫</li><li>牛蛙：曼氏裂头蚴寄生虫</li><li>猪肉：猪肉绦虫</li><li>牛肉表面（只要表面熟了就可以吃）：牛肉绦虫</li></ul><h2 id="食品安全温度"><a href="#食品安全温度" class="headerlink" title="食品安全温度"></a>食品安全温度</h2><p>通过足够的温度加热食物并保持一定的时间，可以在一定程度上减小细菌、寄生虫存活的风险。<br>各类食品有不同的温度要求，烹饪者测量温度应该使用厨房用温度计测量食物中心温度。</p><p>测量温度应该使用：厨房用温度计<br>测量食物中心温度</p><p>下列是业界标准的食物安全温度：</p><p>猪肉<br>      整块：71°C<br>      碎肉：71°C</p><p>禽类<br>      整块：74°C<br>      碎肉：74°C<br>      全只：85°C</p><p>牛肉*羊肉<br>      整块：<br>        3 分熟：63°C<br>        5 分熟：71°C<br>        7 分熟：77°C<br>      碎肉：71°C</p><p>蛋类：74°C</p><p>剩菜再加热：74°C</p>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>去腥</title>
      <link href="/posts/14337.html"/>
      <url>/posts/14337.html</url>
      
        <content type="html"><![CDATA[<h1 id="去腥"><a href="#去腥" class="headerlink" title="去腥"></a>去腥</h1><p>去腥是做菜过程中的一道工序。</p><p>去腥指通过包括但不限于添加调料、焯水等手段去除肉类、水产等食物中腥膻味。</p><p><strong>腥膻味是某些食物的风味来源，过度去腥可能导致食物丧失风味。</strong></p><p>去腥的手段多种多样，在烹饪工程中要灵活选择。</p><h2 id="手段"><a href="#手段" class="headerlink" title="手段"></a>手段</h2><h3 id="添加调料"><a href="#添加调料" class="headerlink" title="添加调料"></a>添加调料</h3><p>在食材中添加调料是最简单的去腥手段。比如对于大部分使用鸡蛋液的菜肴（<a href="/dishes/vegetable_dish/鸡蛋羹/鸡蛋羹.md">鸡蛋羹</a>，<a href="/dishes/vegetable_dish/西红柿炒鸡蛋.md">西红柿炒鸡蛋</a>），可以在制作蛋液的过程中加入盐、料酒、食醋等调料来去腥。</p><p>烹饪某些肉类时，可以在汤底中加入花椒、八角、香叶、桂皮、小茴香、辣椒等香料来去腥。</p><p>成品麻辣火锅底料具有极其浓郁的香味，可以在烹饪时适量添加，足以覆盖绝大多数肉类的腥味。</p><h3 id="蘸料"><a href="#蘸料" class="headerlink" title="蘸料"></a>蘸料</h3><p>某些食物在烹饪之后仍然腥味严重。可以调配蘸料来在食用时掩盖腥味。</p><p>常见的蘸料原料有：食醋、酱油、香油、豆瓣酱、甜面酱、芝麻酱、花生酱、豆腐乳、食盐、大蒜、生姜等。</p><p>各种蘸料搭配见仁见智，这里不做举例。</p><h3 id="炝锅"><a href="#炝锅" class="headerlink" title="炝锅"></a>炝锅</h3><p>炒菜过程中，可以在过程中使用葱、姜、蒜、干辣椒等香料炝锅。香料中的香味物质在高温的作用下挥发出来，一定程度上能覆盖腥味并且增加成菜的风味。</p><h3 id="冷水锅焯水"><a href="#冷水锅焯水" class="headerlink" title="冷水锅焯水"></a>冷水锅焯水</h3><p>某些动物性原料中残留有血液，如：鸡肉、猪蹄、排骨等。残留的血液如果不去除会导致成菜有一定的腥味。</p><p>冷水下锅时，残留的血液会分散到水中；随着温度升高，血液中的蛋白质凝固，原本分散在水中的血液形成浮沫飘在水面上。这时只需用勺撇去浮沫即可完成去腥，剩下的清汤可以用作炖煮菜的汤底继续烹饪。</p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>焯水时往往在锅中加入一些调料如：花椒、八角、料酒、大葱等，进一步强化去腥的力度</li><li>八角香味浓郁，应适量添加</li><li>花椒和麻椒体积小而添加量大，添加后可能会残留在锅中甚至残留至成菜，可以使用纱布包裹一个调料包或者使用食品级不锈钢调料盒，方便在成菜前挑出</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>高压力锅</title>
      <link href="/posts/14335.html"/>
      <url>/posts/14335.html</url>
      
        <content type="html"><![CDATA[<h1 id="蒸（米）-炖（使用电饭煲-高压锅-电压力锅）"><a href="#蒸（米）-炖（使用电饭煲-高压锅-电压力锅）" class="headerlink" title="蒸（米）/炖（使用电饭煲/高压锅/电压力锅）"></a>蒸（米）/炖（使用电饭煲/高压锅/电压力锅）</h1><h2 id="什么是压力锅"><a href="#什么是压力锅" class="headerlink" title="什么是压力锅"></a>什么是压力锅</h2><p>压力锅其实是一般的锅加上可锁紧的半密封盖，盖上有阀门，可用于控制锅内的压力。</p><h3 id="工作方式"><a href="#工作方式" class="headerlink" title="工作方式"></a>工作方式</h3><p>压力锅的工作方式是让蒸汽积聚在锅中，提高锅内的压力。锅内压力提高时，水的沸点也随之提高，可使含水的食物烹煮温度超过 100 ℃。</p><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul><li>由于压力锅的实际烹饪温度较高，因此可以大幅缩短烹饪时间。</li><li>压力锅内部的高温可促进褐变和焦糖化，能够产生独有的风味。</li></ul><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><ul><li>食材和水放入内胆后盒盖，<strong>确保锅体密封</strong>，加热。</li><li>对于韧性较大的食材，如蹄筋类食物，使用高压锅可以较轻松将其煮烂，获得较好口感。</li><li>压力锅通常有一个自锁阀（浮子阀）。在蒸煮时，随着锅内压力增大，自锁阀会启动并锁闭，隔绝锅内与锅外气体，为锅内增压创造条件。自锁阀启动后还会锁住锅盖，防止强行打开，起到安全保障作用。在蒸煮时需要确认自锁阀不被异物遮挡，让高压锅正常工作。</li><li>切换至保温状态后，<strong>通过排气阀将锅内蒸汽排空方可开盖</strong>。</li></ul><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li><strong>水蒸气很烫，不要凑到排气阀上。</strong></li><li>烹饪<strong>流质食物</strong>的过程中，<strong>不要手动排气</strong>，小心喷溅（可以将食材放入密封罐或者真空包装袋中再用高压锅烹饪）。</li><li>烹饪部分菜系（如汤类）手动放气<strong>可能会影响食物的味道以及口感</strong>。</li><li>开盖前需确认蒸气已排空。开盖时请勿一次性全部打开，尤其是<strong>不要对着人正面开盖</strong>，以免蒸气烫伤。</li><li>蒸煮完成后，随着高压锅内气压降低至与外界气压平衡，自锁阀会松开。这个可以作为锅盖是否能打开的判断标志。</li><li>高压锅的密封依赖锅盖里的密封橡胶圈，对于老旧的高压锅需要检查密封橡胶圈是否仍然有效。</li><li>确认橡胶圈完全干净，任何微粒卡在其中都可能破坏密闭环境。</li><li>很多压力锅有一个安全线，材料和液体不应该超过这个线，太多的食材和液体可能会让水蒸气喷涌堵塞排气阀，或喷溅出太多水蒸气不好清理。</li><li>没有安全线的压力锅，最好也不要让水位线超过锅体的 2/3。</li><li><strong>不要使用高压锅烹饪燕麦或者挂面等容易产生泡沫的食物</strong>。泡沫可能会阻塞蒸汽阀和泄压管。</li><li>烹饪过程中，当压力阀升高并喷出蒸汽或者烟雾时，说明高压锅内部过度加压，压力阀为了保证安全，释放出了多余的压力。尽管喷出的蒸汽带有浓郁的香味会带来较高的愉悦感，但一来食物的风味有损失，二来过度加压可能会使部分类型高压锅的卡槽弯曲。因此当看到喷出蒸汽时，可减小火力。</li><li>tips：从侧面开盖是一种不错的选择。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>厨房准备</title>
      <link href="/posts/14333.html"/>
      <url>/posts/14333.html</url>
      
        <content type="html"><![CDATA[<h1 id="厨房准备"><a href="#厨房准备" class="headerlink" title="厨房准备"></a>厨房准备</h1><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">燃气灶，饮用水，炒锅，蒸锅，煮锅，电饭锅，食用油，洗菜盆，碟子，碗，筷子，勺子，汤勺，漏勺，洗涤剂，抹布，钢丝球，菜刀，生食案板，熟食案板，削皮刀，热水壶</span><br></pre></td></tr></table></figure><p>下列材料可能会被高频使用。建议提前为厨房采购好，并永远保障有新鲜的可以取用。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">大葱，小葱，生姜，大蒜，花椒，八角，桂皮，香叶</span><br><span class="line">干辣椒，小米椒，生抽，老抽，蚝油，料酒（黄酒，可选）</span><br><span class="line">黑醋(香醋、陈醋)，白醋，豆瓣酱，冰糖，棉白糖，盐，味精\鸡精</span><br><span class="line">黑胡椒，白胡椒，五香粉，玉米淀粉，番薯淀粉</span><br></pre></td></tr></table></figure><p>如果你预计将被隔离很久，建议同样采购好下列内容：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">冰箱、微波炉、保鲜膜、保鲜袋</span><br><span class="line">鸡蛋、青椒、胡萝卜、黄瓜、西红柿、木耳、里脊肉、茄子、米、挂面或方便面</span><br></pre></td></tr></table></figure><p>如果你非常想追求形式化、标准化和仪式感，并且想拥有一个与众不同的有趣厨房，那就同样采购下列内容：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">电子秤（或天平）、游标卡尺、量筒、停表、烧杯、测温枪、移液器</span><br></pre></td></tr></table></figure><p>如果你想节约时间，可以购买半成品并简单处理后食用：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">预炸过的炸鸡块、冷冻手抓饼、包好的饺子、袋装咖喱、各种丼类（盖饭）、自热食品、拌面料包、外卖包、方便食品</span><br></pre></td></tr></table></figure><p>其它针对每道菜的原材料，请具体参考菜品本身的<code>所需原材料</code>章节。</p>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>如何选择现在吃什么</title>
      <link href="/posts/14334.html"/>
      <url>/posts/14334.html</url>
      
        <content type="html"><![CDATA[<h1 id="如何决策吃什么"><a href="#如何决策吃什么" class="headerlink" title="如何决策吃什么"></a>如何决策吃什么</h1><h2 id="计算方法"><a href="#计算方法" class="headerlink" title="计算方法"></a>计算方法</h2><h3 id="计算荤菜和素菜数量"><a href="#计算荤菜和素菜数量" class="headerlink" title="计算荤菜和素菜数量"></a>计算荤菜和素菜数量</h3><ul><li>菜的数量 = 人数 + 1。</li><li>荤菜比素菜多一个，或一样多即可。</li></ul><p>由此得到荤菜数量和素菜数量，再在上一步的菜谱中选择即可。</p><h4 id="形式语言描述"><a href="#形式语言描述" class="headerlink" title="形式语言描述"></a>形式语言描述</h4><p>当 有人数 <code>N</code> 时，<br>设 <code>素菜数</code> 为 <code>a</code>, <code>荤菜数</code>为 <code>b</code>。<br><code>N</code>, <code>a</code>, <code>b</code>均为整数。</p><p>此时有下列不等式组：</p><ul><li>a + b = N + 1</li><li>a ≤ b ≤ a+1</li></ul><p>解得</p><ul><li>a = floor(N/2)</li><li>b = ceil(N/2)</li></ul><h3 id="菜的选择"><a href="#菜的选择" class="headerlink" title="菜的选择"></a>菜的选择</h3><ul><li>如果人数超过 8 人，考虑在荤菜中增加鱼类荤菜。</li><li>如果有小孩，考虑增加有甜味的菜。</li><li>考虑增加特色菜、拿手菜。</li><li>注意决策荤菜时不要全部使用同一种动物的肉。考虑顺序为：<code>猪肉</code>、<code>鸡肉</code>、<code>牛肉</code>、<code>羊肉</code>、<code>鸭肉</code>、<code>鱼肉</code>。</li><li>不要选择奇奇怪怪的动物做荤菜。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 下饭指南 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>程序员做饭指南索引页</title>
      <link href="/posts/25522.html"/>
      <url>/posts/25522.html</url>
      
        <content type="html"><![CDATA[<h1 id="程序员做饭指南"><a href="#程序员做饭指南" class="headerlink" title="程序员做饭指南"></a>程序员做饭指南</h1><p>最近在家，出不了门。只能宅在家做饭了。作为程序员，我偶尔在网上找找菜谱和做法。<br>但是这些菜谱往往写法千奇百怪，经常中间莫名出来一些材料。对于习惯了形式语言的程序员来说极其不友好。<br>所以，我计划自己搜寻菜谱并结合实际做菜的经验，准备用更清晰精准的描述来整理常见菜的做法，以方便程序员在家做饭。</p><h2 id="做菜之前"><a href="#做菜之前" class="headerlink" title="做菜之前"></a>做菜之前</h2><ul><li><a href="./14333.html">厨房准备</a></li><li><a href="./14334.html">如何选择现在吃什么</a></li><li><a href="./14335.html">高压力锅</a></li><li><a href="./14337.html">去腥</a></li><li><a href="./14336.html">食品安全</a></li><li><a href="./14338.html">微波炉</a></li><li><a href="./14339.html">学习焯水</a></li><li><a href="./14340.html">学习炒与煎</a></li><li><a href="./14341.html">学习凉拌</a></li><li><a href="./14342.html">学习腌</a></li><li><a href="./14343.html">学习蒸</a></li><li><a href="./14344.html">学习煮</a></li></ul><h2 id="菜谱"><a href="#菜谱" class="headerlink" title="菜谱"></a>菜谱</h2><h3 id="家常菜"><a href="#家常菜" class="headerlink" title="家常菜"></a>家常菜</h3><h3 id="素菜"><a href="#素菜" class="headerlink" title="素菜"></a>素菜</h3><ul><li><a href="./14345.html">拔丝土豆</a></li><li><a href="./14346.html">白灼菜心</a></li><li><a href="./14347.html">包菜炒鸡蛋粉丝</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>宝塔部署静态页面</title>
      <link href="/posts/58489.html"/>
      <url>/posts/58489.html</url>
      
        <content type="html"><![CDATA[<h3 id="前提配置"><a href="#前提配置" class="headerlink" title="前提配置"></a>前提配置</h3><h4 id="直达阿里云"><a href="#直达阿里云" class="headerlink" title="直达阿里云"></a>直达阿里云</h4><details class="folding-tag" cyan><summary> 阿里云服务器链接 </summary>              <div class='content'>              <blockquote><p>购买云服务器，服务器可以在<strong><a href="https://ecs-buy.aliyun.com/ecs?spm=5176.8789780.J_4267641240.2.2d0145b575zo0x#/custom/prepay/cn-hangzhou?fromDomain=true ,&quot;阿里云服务器&quot;">阿里云</a></strong>购买。</p></blockquote>              </div>            </details><h4 id="配置套餐规格"><a href="#配置套餐规格" class="headerlink" title="配置套餐规格"></a>配置套餐规格</h4><details class="folding-tag" cyan><summary> 按图片配置服务器 </summary>              <div class='content'>              <div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211436563.jpg"/></div></div>              </div>            </details><h4 id="配置服务器规格"><a href="#配置服务器规格" class="headerlink" title="配置服务器规格"></a>配置服务器规格</h4><details class="folding-tag" cyan><summary> 实例就按预算购买即可 </summary>              <div class='content'>              <div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211451711.jpg"/></div></div>              </div>            </details><h4 id="镜像选择"><a href="#镜像选择" class="headerlink" title="镜像选择"></a>镜像选择</h4><details class="folding-tag" cyan><summary> 镜像选择 </summary>              <div class='content'>              <blockquote><p>镜像一般默认<code>CentOS</code>、版本选择<code>7.6</code>。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211441897.jpg"/></div></div></blockquote>              </div>            </details><h4 id="分配公网IP"><a href="#分配公网IP" class="headerlink" title="分配公网IP"></a>分配公网IP</h4><details class="folding-tag" cyan><summary> 分配公网IP </summary>              <div class='content'>              <blockquote><p>点击<code>分配公网IPv4地址</code>，目前主流是IPV4，未来趋势会在IPV6。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211534399.jpg"/></div></div></blockquote>              </div>            </details><h4 id="安全组"><a href="#安全组" class="headerlink" title="安全组"></a>安全组</h4><details class="folding-tag" cyan><summary> 配置安全组 </summary>              <div class='content'>              <blockquote><p>点击<code>新建安全组</code>，默认就好</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211545123.jpg"/></div></div></blockquote>              </div>            </details><h4 id="登录凭证"><a href="#登录凭证" class="headerlink" title="登录凭证"></a>登录凭证</h4><details class="folding-tag" cyan><summary> 配置登录密码 </summary>              <div class='content'>              <blockquote><p>这里选择自定义密码 默认登录名为<code>root</code>,设置一个服务器<code>登录密码</code></p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211537422.jpg"/></div></div></blockquote>              </div>            </details><h4 id="购买即可"><a href="#购买即可" class="headerlink" title="购买即可"></a>购买即可</h4><blockquote><p>购买完成后进入<code>云服务器ECS</code>，点击实例稍等片刻，看到镜像加载完成就成功了。<br>这里不在一一赘述控制台。</p></blockquote><h3 id="安装宝塔"><a href="#安装宝塔" class="headerlink" title="安装宝塔"></a>安装宝塔</h3><h4 id="直达宝塔官网"><a href="#直达宝塔官网" class="headerlink" title="直达宝塔官网"></a>直达宝塔官网</h4><details class="folding-tag" cyan><summary> 宝塔官网链接 </summary>              <div class='content'>              <blockquote><p>宝塔是一款高效运维面板 <strong><a href="https://www.bt.cn/new/download.html," title="宝塔linux">直达宝塔</a></strong></p></blockquote>              </div>            </details><h4 id="安装宝塔-1"><a href="#安装宝塔-1" class="headerlink" title="安装宝塔"></a>安装宝塔</h4><details class="folding-tag" cyan><summary> 网站向下滑动安装宝塔 </summary>              <div class='content'>              <blockquote><p>输入服务器的<code>IP地址</code>，如不知道在哪里看IP地址，请见<code>1.8</code>。<br>输入服务器的<code>密码</code>，<code>密码</code>指的是你刚刚在配置服务器时设置的密码，请见<code>1.7</code>。其余保持默认。<br>点击<code>立即安装</code>。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211600721.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 等待安装完成 </summary>              <div class='content'>              <blockquote><p>此期间等待安装完成，完成后会弹出一个框框，请记录并保存URL，以及初始密码。<br>访问该<code>URL</code>，跳转到该网站。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211612990.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 等待安装完成 </summary>              <div class='content'>              <blockquote><p>输入刚才保存的宝塔<code>初始账号密码</code>，进行<code>登录</code>。<br>此时会有<code>协议</code>说明，拉到<code>最底部</code>即可。<br>登录成功后会要求<code>手机号</code>，绑定即可。<br>如果一切<code>顺利</code>，你应该会到如下界面。至此，<code>宝塔</code>安装完成。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211618387.jpg"/></div></div></blockquote>              </div>            </details><h4 id="配置宝塔"><a href="#配置宝塔" class="headerlink" title="配置宝塔"></a>配置宝塔</h4><details class="folding-tag" cyan><summary> 侧边栏选择面板设置 </summary>              <div class='content'>              <blockquote><p>在这里可以配置宝塔的一些<code>参数</code>。<br>我建议你应当配置一下<code>面板账号</code>、<code>面板密码</code>以及面板的<code>安全入口</code>，以确保下次访问会更方便。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211626238.jpg"/></div></div></blockquote>              </div>            </details><h3 id="部署项目"><a href="#部署项目" class="headerlink" title="部署项目"></a>部署项目</h3><h4 id="新建站点"><a href="#新建站点" class="headerlink" title="新建站点"></a>新建站点</h4><details class="folding-tag" cyan><summary> 侧边栏选择网站 </summary>              <div class='content'>              <blockquote><p>在左上角点击<code>添加站点</code></p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211635042.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 添加站点 </summary>              <div class='content'>              <blockquote><p>域名里写你自己的<code>域名</code>，如果没有的话就写<code>服务器IP</code> + <code>:</code> + <code>端口号</code>。<br>例如这里我的服务器IP是:<code>121.43.51.195</code>，端口是:<code>9091</code>。端口如何选择请见<code>3.3</code>。<br>点击提交即可。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211641761.jpg"/></div></div></blockquote>              </div>            </details><h4 id="部署项目-1"><a href="#部署项目-1" class="headerlink" title="部署项目"></a>部署项目</h4><details class="folding-tag" cyan><summary> 点击根目录 </summary>              <div class='content'>              <div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211642960.jpg"/></div></div>              </div>            </details><details class="folding-tag" cyan><summary> 删除原来的文件 </summary>              <div class='content'>              <div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211644054.jpg"/></div></div>              </div>            </details><details class="folding-tag" cyan><summary> 上传源代码 </summary>              <div class='content'>              <blockquote><p>点击后将你的<code>项目压缩包</code>拖拽上传即可。<br>上传完成后，右击<code>解压</code>。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211647409.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 项目示例 </summary>              <div class='content'>              <blockquote><p>点项目文件夹进来后，大部分项目会直接带有<code>index.php</code>，也就是入口文件。除非<code>特殊说明</code>。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211648860.jpg"/></div></div></blockquote>              </div>            </details><h4 id="启动项目"><a href="#启动项目" class="headerlink" title="启动项目"></a>启动项目</h4><details class="folding-tag" cyan><summary> 点击设置 </summary>              <div class='content'>              <blockquote><p>我们回到侧边栏<code>网站</code>。点击<code>设置</code>。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211652871.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 配置运行目录 </summary>              <div class='content'>              <blockquote><p>点击<code>网站目录</code>，点击网站目录输入框旁边的<code>文件夹图标</code>，选中刚才解压出来的<code>源码文件夹</code>。点击<code>保存</code>。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211653397.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 回到阿里云修改安全组 </summary>              <div class='content'>              <blockquote><p>回到<code>阿里云控制台</code>，点击<code>安全组</code>。点击<code>管理规则</code>。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211658959.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 添加入方向规则 </summary>              <div class='content'>              <blockquote><p>点击<code>手动添加</code>，端口范围就设置成刚才我们宝塔设置的<code>端口</code>，授权对象设置为<code>0.0.0.0/0</code>，就是<code>所有IP</code>都可以访问。</p><div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://img.yybk.cc/page/202308211717348.jpg"/></div></div></blockquote>              </div>            </details><details class="folding-tag" cyan><summary> 至此项目部署完成 </summary>              <div class='content'>              <blockquote><p>访问我们刚才设置的<code>域名</code>，或者是<code>服务器IP</code> + <code>：</code> + <code>端口</code>。就可以看到项目部署成功了。</p></blockquote>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
